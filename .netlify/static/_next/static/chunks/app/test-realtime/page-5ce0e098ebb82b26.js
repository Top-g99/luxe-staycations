(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[923,8991],{68991:(e,t,a)=>{"use strict";a.r(t),a.d(t,{DataManager:()=>s,bookingManager:()=>l,callbackManager:()=>m,couponManagerInstance:()=>p,dealBannerManager:()=>c,dealManager:()=>u,destinationManager:()=>h,heroBackgroundManager:()=>g,masterDataManager:()=>y,mockBookings:()=>n,mockProperties:()=>r,mockUsers:()=>i,offersBannerManager:()=>x,propertyManager:()=>o,userManager:()=>d});let r=[{id:"1",name:"Luxury Villa 1",description:"Beautiful luxury villa with ocean view",price:500,location:"Goa",type:"villa",amenities:["pool","wifi","ac"],images:["/images/villa1.jpg"],featured:!0,available:!0,max_guests:8,bedrooms:4,bathrooms:3,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],n=[{id:"1",property_id:"1",user_id:"1",guestName:"John Doe",guestEmail:"john@example.com",guestPhone:"+1234567890",checkIn:"2024-01-01",checkOut:"2024-01-05",guests:4,totalAmount:2e3,status:"confirmed",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],i=[{id:"1",email:"user@example.com",name:"John Doe",phone:"+1234567890",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];class s{async initialize(){return Promise.resolve()}async getAll(){return this.data}async getById(e){return this.data.find(t=>t.id===e)||null}async create(e){return this.data.push(e),e}async update(e,t){let a=this.data.findIndex(t=>t.id===e);return -1!==a?(this.data[a]={...this.data[a],...t},this.data[a]):null}async delete(e){let t=this.data.findIndex(t=>t.id===e);return -1!==t&&(this.data.splice(t,1),!0)}async redeemCoupon(e,t,a,r,n){return console.log("Redeeming coupon:",{code:e,amount:t,bookingId:a,email:r,name:n}),{success:!0,discount:0}}async validateCoupon(e,t){return console.log("Validating coupon:",{code:e,amount:t}),{isValid:!0,discount:0,message:"Coupon is valid"}}async getFeatured(){return this.data.filter(e=>!0===e.featured)}async getActive(){return this.data.filter(e=>!0===e.isActive)}subscribe(e){return()=>{}}async initializeAll(){await this.getAll()}getStats(){return{total:this.data.length,loading:!1,initialized:!0}}async clear(){this.data=[]}constructor(e){this.data=[],this.tableName=e}}let o=new s("properties"),l=new s("bookings"),d=new s("users"),c=new s("dealBanners"),h=new s("destinations"),g=new s("heroBackgrounds"),u=new s("deals"),x=new s("offersBanners"),m=new s("callbacks"),p=new s("coupons"),y=new s("masterData")},78038:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var r=a(95155),n=a(12115),i=a(80851),s=a(4474),o=a(97322),l=a(23315),d=a(78010),c=a(70690),h=a(33077),g=a(29767),u=a(84578),x=a(21067),m=a(28548),p=a(68991);function y(){let[e,t]=(0,n.useState)([]),[a,y]=(0,n.useState)([]),[A,b]=(0,n.useState)([]),[j,v]=(0,n.useState)([]),[w,f]=(0,n.useState)(!0),[S,k]=(0,n.useState)(new Date);(0,n.useEffect)(()=>{(async()=>{f(!0);try{await Promise.all([p.propertyManager.initialize(),p.destinationManager.initialize(),p.dealBannerManager.initialize(),p.heroBackgroundManager.initialize()]),t(await p.propertyManager.getAll()),y(await p.destinationManager.getAll()),b(await p.dealBannerManager.getAll()),v(await p.heroBackgroundManager.getAll()),k(new Date)}catch(e){console.error("Error loading data:",e)}finally{f(!1)}})();let e=p.propertyManager.subscribe(async()=>{t(await p.propertyManager.getAll()),k(new Date)}),a=p.destinationManager.subscribe(async()=>{y(await p.destinationManager.getAll()),k(new Date)}),r=p.dealBannerManager.subscribe(async()=>{b(await p.dealBannerManager.getAll()),k(new Date)}),n=p.heroBackgroundManager.subscribe(async()=>{v(await p.heroBackgroundManager.getAll()),k(new Date)});return()=>{e(),a(),r(),n()}},[]);let M=async()=>{try{await p.propertyManager.create({id:Date.now().toString(),name:"Test Property ".concat(Date.now()),location:"Test Location",description:"This is a test property for real-time updates",price:5e3,max_guests:4,amenities:["WiFi","Pool"],images:["https://via.placeholder.com/400x300"],featured:!1,type:"villa",available:!0,bedrooms:2,bathrooms:2,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})}catch(e){console.error("Error adding test property:",e)}},D=async()=>{try{await p.heroBackgroundManager.create({title:"Test Hero ".concat(Date.now()),subtitle:"This is a test hero background",image:"https://via.placeholder.com/1200x800",alt_text:"Test hero background",active:!0,priority:1,link:"",link_text:"",start_date:"",end_date:""})}catch(e){console.error("Error adding test hero background:",e)}};return w?(0,r.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:(0,r.jsx)(s.A,{})}):(0,r.jsxs)(o.A,{maxWidth:"lg",sx:{py:4},children:[(0,r.jsx)(l.A,{variant:"h3",gutterBottom:!0,children:"Real-time Data Test"}),(0,r.jsx)(d.A,{severity:"info",sx:{mb:3},children:"This page demonstrates real-time updates. Open the admin panel in another tab and make changes - they will appear here immediately!"}),(0,r.jsxs)(i.A,{sx:{mb:3,display:"flex",gap:2,alignItems:"center"},children:[(0,r.jsxs)(l.A,{variant:"body2",color:"textSecondary",children:["Last updated: ",S.toLocaleTimeString()]}),(0,r.jsx)(c.A,{variant:"outlined",size:"small",onClick:M,children:"Add Test Property"}),(0,r.jsx)(c.A,{variant:"outlined",size:"small",onClick:D,children:"Add Test Hero"})]}),(0,r.jsxs)(h.Ay,{container:!0,spacing:3,children:[(0,r.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,r.jsx)(g.A,{children:(0,r.jsxs)(u.A,{children:[(0,r.jsxs)(l.A,{variant:"h6",gutterBottom:!0,children:["Properties (",e.length,")"]}),(0,r.jsx)(x.A,{sx:{mb:2}}),e.slice(0,5).map(e=>(0,r.jsxs)(i.A,{sx:{mb:2,p:2,border:"1px solid #eee",borderRadius:1},children:[(0,r.jsx)(l.A,{variant:"subtitle2",fontWeight:"bold",children:e.name}),(0,r.jsxs)(l.A,{variant:"body2",color:"textSecondary",children:[e.location," • ₹",e.price,"/night"]}),(0,r.jsx)(i.A,{sx:{mt:1},children:(0,r.jsx)(m.A,{label:e.featured?"Featured":"Regular",size:"small",color:e.featured?"primary":"default"})})]},e.id)),e.length>5&&(0,r.jsxs)(l.A,{variant:"body2",color:"textSecondary",children:["+",e.length-5," more properties"]})]})})}),(0,r.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,r.jsx)(g.A,{children:(0,r.jsxs)(u.A,{children:[(0,r.jsxs)(l.A,{variant:"h6",gutterBottom:!0,children:["Destinations (",a.length,")"]}),(0,r.jsx)(x.A,{sx:{mb:2}}),a.slice(0,5).map(e=>(0,r.jsxs)(i.A,{sx:{mb:2,p:2,border:"1px solid #eee",borderRadius:1},children:[(0,r.jsx)(l.A,{variant:"subtitle2",fontWeight:"bold",children:e.name}),(0,r.jsx)(l.A,{variant:"body2",color:"textSecondary",children:e.description})]},e.id)),a.length>5&&(0,r.jsxs)(l.A,{variant:"body2",color:"textSecondary",children:["+",a.length-5," more destinations"]})]})})}),(0,r.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,r.jsx)(g.A,{children:(0,r.jsxs)(u.A,{children:[(0,r.jsxs)(l.A,{variant:"h6",gutterBottom:!0,children:["Deal Banners (",A.length,")"]}),(0,r.jsx)(x.A,{sx:{mb:2}}),A.slice(0,3).map(e=>(0,r.jsxs)(i.A,{sx:{mb:2,p:2,border:"1px solid #eee",borderRadius:1},children:[(0,r.jsx)(l.A,{variant:"subtitle2",fontWeight:"bold",children:e.title}),(0,r.jsx)(l.A,{variant:"body2",color:"textSecondary",children:e.subtitle}),(0,r.jsx)(i.A,{sx:{mt:1},children:(0,r.jsx)(m.A,{label:e.isActive?"Active":"Inactive",size:"small",color:e.isActive?"success":"default"})})]},e.id)),A.length>3&&(0,r.jsxs)(l.A,{variant:"body2",color:"textSecondary",children:["+",A.length-3," more banners"]})]})})}),(0,r.jsx)(h.Ay,{item:!0,xs:12,md:6,children:(0,r.jsx)(g.A,{children:(0,r.jsxs)(u.A,{children:[(0,r.jsxs)(l.A,{variant:"h6",gutterBottom:!0,children:["Hero Backgrounds (",j.length,")"]}),(0,r.jsx)(x.A,{sx:{mb:2}}),j.slice(0,3).map(e=>(0,r.jsxs)(i.A,{sx:{mb:2,p:2,border:"1px solid #eee",borderRadius:1},children:[(0,r.jsx)(l.A,{variant:"subtitle2",fontWeight:"bold",children:e.title}),(0,r.jsx)(l.A,{variant:"body2",color:"textSecondary",children:e.subtitle}),(0,r.jsxs)(i.A,{sx:{mt:1,display:"flex",gap:1},children:[(0,r.jsx)(m.A,{label:e.active?"Active":"Inactive",size:"small",color:e.active?"success":"default"}),(0,r.jsx)(m.A,{label:"Priority ".concat(e.priority),size:"small",color:1===e.priority?"primary":"default"})]})]},e.id)),j.length>3&&(0,r.jsxs)(l.A,{variant:"body2",color:"textSecondary",children:["+",j.length-3," more backgrounds"]})]})})})]}),(0,r.jsx)(i.A,{sx:{mt:4,textAlign:"center"},children:(0,r.jsx)(l.A,{variant:"body2",color:"textSecondary",children:"\uD83D\uDCA1 Tip: Open the admin panel in another tab and make changes to see real-time updates here!"})})]})}},80658:(e,t,a)=>{Promise.resolve().then(a.bind(a,78038))}},e=>{e.O(0,[5446,134,5493,5436,3077,7247,8548,256,8441,1255,7358],()=>e(e.s=80658)),_N_E=e.O()}]);