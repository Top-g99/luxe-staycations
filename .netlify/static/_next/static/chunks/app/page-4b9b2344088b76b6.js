(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974,8991],{659:(e,a,t)=>{Promise.resolve().then(t.bind(t,69167))},44206:(e,a,t)=>{"use strict";t.d(a,{Ig:()=>s,VV:()=>i,de:()=>o,gI:()=>n});let r={primary:"#322a2b",primaryDark:"#1A1A1A",primaryLight:"#4A3735",secondaryDark:"#704F49",background:"#f7ede1",backgroundLight:"#E8E2D9",accent:"#B8A195",accentDark:"#4A4A4A",white:"#ffffff"},n={h1:{fontFamily:"Playfair Display, serif",fontSize:{xs:"2.5rem",sm:"3rem",md:"4rem",lg:"5rem"},fontWeight:400,lineHeight:1.2,color:r.primaryDark},h2:{fontFamily:"Playfair Display, serif",fontSize:{xs:"2rem",sm:"2.5rem",md:"3rem",lg:"3.5rem"},fontWeight:400,lineHeight:1.3,color:r.primaryDark},h3:{fontFamily:"Playfair Display, serif",fontSize:{xs:"1.5rem",sm:"1.75rem",md:"2rem",lg:"2.25rem"},fontWeight:400,lineHeight:1.3,color:r.primaryDark},h4:{fontFamily:"Playfair Display, serif",fontSize:{xs:"1.25rem",sm:"1.5rem",md:"1.75rem",lg:"2rem"},fontWeight:400,lineHeight:1.3,color:r.primaryDark},h5:{fontFamily:"Playfair Display, serif",fontSize:{xs:"1.1rem",sm:"1.25rem",md:"1.5rem",lg:"1.75rem"},fontWeight:400,lineHeight:1.4,color:r.primaryDark},h6:{fontFamily:"Playfair Display, serif",fontSize:{xs:"1rem",sm:"1.1rem",md:"1.25rem",lg:"1.5rem"},fontWeight:400,lineHeight:1.4,color:r.primaryDark},body1:{fontFamily:"Nunito, sans-serif",fontSize:"1rem",fontWeight:400,lineHeight:1.6,color:r.primary},body2:{fontFamily:"Nunito, sans-serif",fontSize:"0.875rem",fontWeight:400,lineHeight:1.6,color:r.primary},button:{fontFamily:"Nunito, sans-serif",fontSize:"1.25rem",fontWeight:500,lineHeight:1.5,textTransform:"none"}},i={primary:{bgcolor:r.primaryDark,color:r.white,fontFamily:"Nunito, sans-serif",fontSize:"1.25rem",fontWeight:500,px:3,py:1.5,borderRadius:1,textTransform:"none",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",transition:"all 0.3s ease","&:hover":{bgcolor:r.primaryLight,transform:"translateY(-2px)",boxShadow:"0 4px 16px rgba(0,0,0,0.25)"},"&:active":{transform:"translateY(0)",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"}},secondary:{bgcolor:r.secondaryDark,color:r.white,fontFamily:"Nunito, sans-serif",fontSize:"1.25rem",fontWeight:500,px:3,py:1.5,borderRadius:1,textTransform:"none",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",transition:"all 0.3s ease","&:hover":{bgcolor:r.primaryLight,transform:"translateY(-2px)",boxShadow:"0 4px 16px rgba(0,0,0,0.25)"},"&:active":{transform:"translateY(0)",boxShadow:"0 2px 8px rgba(0,0,0,0.15)"}},outline:{border:"2px solid ".concat(r.secondaryDark),color:r.secondaryDark,bgcolor:"transparent",fontFamily:"Nunito, sans-serif",fontSize:"1.25rem",fontWeight:500,px:3,py:1.5,borderRadius:1,textTransform:"none",transition:"all 0.3s ease","&:hover":{bgcolor:r.secondaryDark,color:r.white,transform:"translateY(-2px)",boxShadow:"0 4px 16px rgba(0,0,0,0.25)"}},text:{color:r.secondaryDark,fontFamily:"Nunito, sans-serif",fontSize:"1rem",fontWeight:500,textTransform:"none",transition:"all 0.3s ease","&:hover":{bgcolor:"rgba(112, 79, 73, 0.1)",transform:"translateY(-1px)"}}},o={primary:{bgcolor:r.white,borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid ".concat(r.backgroundLight),transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 24px rgba(0,0,0,0.15)"}},elevated:{bgcolor:r.white,borderRadius:2,boxShadow:"0 4px 16px rgba(0,0,0,0.15)",border:"1px solid ".concat(r.backgroundLight),transition:"all 0.3s ease","&:hover":{transform:"translateY(-6px)",boxShadow:"0 12px 32px rgba(0,0,0,0.2)"}},glass:{bgcolor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",borderRadius:2,border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0,0,0,0.1)"}};r.accent,r.secondaryDark,r.secondaryDark,r.primary,r.secondaryDark,r.accent,r.secondaryDark,r.secondaryDark;let s={primary:{color:r.secondaryDark},secondary:{color:r.accent},accent:{color:r.accentDark},white:{color:r.white}};r.background,r.backgroundLight,r.primaryDark,"linear-gradient(135deg, ".concat(r.primaryDark," 0%, ").concat(r.secondaryDark," 100%)"),r.background},68991:(e,a,t)=>{"use strict";t.r(a),t.d(a,{DataManager:()=>o,bookingManager:()=>l,callbackManager:()=>p,couponManagerInstance:()=>m,dealBannerManager:()=>d,dealManager:()=>x,destinationManager:()=>h,heroBackgroundManager:()=>g,masterDataManager:()=>b,mockBookings:()=>n,mockProperties:()=>r,mockUsers:()=>i,offersBannerManager:()=>u,propertyManager:()=>s,userManager:()=>c});let r=[{id:"1",name:"Luxury Villa 1",description:"Beautiful luxury villa with ocean view",price:500,location:"Goa",type:"villa",amenities:["pool","wifi","ac"],images:["/images/villa1.jpg"],featured:!0,available:!0,max_guests:8,bedrooms:4,bathrooms:3,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],n=[{id:"1",property_id:"1",user_id:"1",guestName:"John Doe",guestEmail:"john@example.com",guestPhone:"+1234567890",checkIn:"2024-01-01",checkOut:"2024-01-05",guests:4,totalAmount:2e3,status:"confirmed",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],i=[{id:"1",email:"user@example.com",name:"John Doe",phone:"+1234567890",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];class o{async initialize(){return Promise.resolve()}async getAll(){return this.data}async getById(e){return this.data.find(a=>a.id===e)||null}async create(e){return this.data.push(e),e}async update(e,a){let t=this.data.findIndex(a=>a.id===e);return -1!==t?(this.data[t]={...this.data[t],...a},this.data[t]):null}async delete(e){let a=this.data.findIndex(a=>a.id===e);return -1!==a&&(this.data.splice(a,1),!0)}async redeemCoupon(e,a,t,r,n){return console.log("Redeeming coupon:",{code:e,amount:a,bookingId:t,email:r,name:n}),{success:!0,discount:0}}async validateCoupon(e,a){return console.log("Validating coupon:",{code:e,amount:a}),{isValid:!0,discount:0,message:"Coupon is valid"}}async getFeatured(){return this.data.filter(e=>!0===e.featured)}async getActive(){return this.data.filter(e=>!0===e.isActive)}subscribe(e){return()=>{}}async initializeAll(){await this.getAll()}getStats(){return{total:this.data.length,loading:!1,initialized:!0}}async clear(){this.data=[]}constructor(e){this.data=[],this.tableName=e}}let s=new o("properties"),l=new o("bookings"),c=new o("users"),d=new o("dealBanners"),h=new o("destinations"),g=new o("heroBackgrounds"),x=new o("deals"),u=new o("offersBanners"),p=new o("callbacks"),m=new o("coupons"),b=new o("masterData")},69167:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>eb});var r=t(95155),n=t(12115),i=t(39631),o=t(97322),s=t(80851),l=t(23315),c=t(33077),d=t(29767),h=t(75793),g=t(84578),x=t(70690),u=t(48833),p=t(52363),m=t(65036),b=t(9562),y=t(75912),f=t(61205),v=t(54741),A=t(20063),k=t(85903);class j{static getInstance(){return j.instance||(j.instance=new j),j.instance}async initialize(){return Promise.resolve()}async getAll(){return this.callbacks}async getById(e){return this.callbacks.find(a=>a.id===e)||null}async create(e){let a={...e,id:Date.now().toString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return this.callbacks.push(a),a}async update(e,a){let t=this.callbacks.findIndex(a=>a.id===e);return -1!==t?(this.callbacks[t]={...this.callbacks[t],...a,updated_at:new Date().toISOString()},this.callbacks[t]):null}async delete(e){let a=this.callbacks.findIndex(a=>a.id===e);return -1!==a&&(this.callbacks.splice(a,1),!0)}addCallback(e){return console.log("Adding callback:",e),{id:Date.now().toString(),...e}}constructor(){this.callbacks=[]}}let w=j.getInstance();var S=t(68991);class D{static getInstance(){return D.instance||(D.instance=new D),D.instance}async initialize(){return this.stats={totalMembers:150,totalJewels:2500,activeRedemptions:12,totalSpent:25e4},Promise.resolve()}async getStats(){return this.stats}subscribe(e){return this.subscribers.push(e),()=>{let a=this.subscribers.indexOf(e);a>-1&&this.subscribers.splice(a,1)}}notifySubscribers(){this.subscribers.forEach(e=>e())}async updateStats(e){this.stats={...this.stats,...e},this.notifySubscribers()}constructor(){this.stats={totalMembers:0,totalJewels:0,activeRedemptions:0,totalSpent:0},this.subscribers=[]}}let I=D.getInstance();var F=t(62043);class C{static getInstance(){return C.instance||(C.instance=new C),C.instance}async initialize(){return Promise.resolve()}async getAll(){return this.payments}async getById(e){return this.payments.find(a=>a.id===e)||null}async create(e){let a={...e,id:Date.now().toString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return this.payments.push(a),a}async update(e,a){let t=this.payments.findIndex(a=>a.id===e);return -1!==t?(this.payments[t]={...this.payments[t],...a,updated_at:new Date().toISOString()},this.payments[t]):null}async delete(e){let a=this.payments.findIndex(a=>a.id===e);return -1!==a&&(this.payments.splice(a,1),!0)}async getAllTransactions(){return this.payments}async addTransaction(e){return this.create(e)}constructor(){this.payments=[]}}let M=C.getInstance();var z=t(41983),W=t(52641),O=t(88450),P=t(86973),E=t(51611),B=t(44206),R=t(4474),_=t(78470),T=t(78010),H=t(28548),L=t(36741),N=t(12857),U=t(42047),Y=t(75854),G=t(77073),V=t(37045),q=t(38511),J=t(10091),K=t(18650),X=t(92381),Q=t(30482),Z=t(58576),$=t(14187);function ee(e){let{value:a,onChange:t,propertyId:i,minDate:o=new Date,maxDate:d=(0,X.f)(new Date,365),disabled:h=!1,label:g="Select Dates",placeholder:f="Choose check-in and check-out dates",showAvailability:v=!0,onAvailabilityCheck:A,sx:k}=e,[j,w]=(0,n.useState)(!1),[S,D]=(0,n.useState)({}),[I,F]=(0,n.useState)(!1),[C,M]=(0,n.useState)(""),[W,O]=(0,n.useState)(null);(0,n.useEffect)(()=>{i&&v&&P()},[i,v]),(0,n.useEffect)(()=>{a.checkIn&&a.checkOut&&i&&v&&E()},[a.checkIn,a.checkOut,i,v]);let P=async()=>{if(i){F(!0);try{let e=(0,Q.GP)(new Date,"yyyy-MM-dd"),a=(0,Q.GP)((0,X.f)(new Date,90),"yyyy-MM-dd"),t=await fetch("/api/availability?propertyId=".concat(i,"&startDate=").concat(e,"&endDate=").concat(a)),r=await t.json();r.success?D(r.data.availability):console.error("Failed to fetch availability:",r.error)}catch(e){console.error("Error fetching availability:",e)}finally{F(!1)}}},E=async()=>{if(a.checkIn&&a.checkOut&&i){O("checking"),F(!0);try{let e=(0,Q.GP)(a.checkIn,"yyyy-MM-dd"),t=(0,Q.GP)(a.checkOut,"yyyy-MM-dd"),r=await fetch("/api/availability?propertyId=".concat(i,"&startDate=").concat(e,"&endDate=").concat(t)),n=await r.json();if(n.success){let e=n.data.availability;if(Object.values(e).every(e=>e.available))O("available"),M("Selected dates are available for booking!"),null==A||A(!0,"Selected dates are available for booking!");else{O("unavailable");let a=Object.entries(e).filter(e=>{let[a,t]=e;return!t.available}).map(e=>{let[a,t]=e;return(0,Q.GP)(new Date(a),"MMM dd, yyyy")});M("Selected dates are not available. Unavailable dates: ".concat(a.join(", "))),null==A||A(!1,"Selected dates are not available. Unavailable dates: ".concat(a.join(", ")))}}else O("unavailable"),M("Unable to check availability. Please try again."),null==A||A(!1,"Unable to check availability. Please try again.")}catch(e){O("unavailable"),M("Error checking availability. Please try again."),null==A||A(!1,"Error checking availability. Please try again.")}finally{F(!1)}}},B=(e,r)=>{"checkIn"===e?t({checkIn:r,checkOut:a.checkOut}):t({checkIn:a.checkIn,checkOut:r})},ee=e=>{if((0,Z.Y)(e,o)||(0,$.d)(e,d))return!0;if(v&&i){var a;return!(null==(a=S[(0,Q.GP)(e,"yyyy-MM-dd")])?void 0:a.available)}return!1},ea=()=>{switch(W){case"available":return(0,r.jsx)(L.A,{color:"success"});case"unavailable":return(0,r.jsx)(N.A,{color:"error"});case"checking":return(0,r.jsx)(R.A,{size:20});default:return(0,r.jsx)(U.A,{color:"info"})}};return(0,r.jsx)(J.$J,{dateAdapter:K.h,children:(0,r.jsxs)(s.A,{children:[(0,r.jsx)(b.A,{fullWidth:!0,label:g,value:a.checkIn||a.checkOut?a.checkIn&&a.checkOut?"".concat((0,Q.GP)(a.checkIn,"MMM dd, yyyy")," - ").concat((0,Q.GP)(a.checkOut,"MMM dd, yyyy")):a.checkIn?"Check-in: ".concat((0,Q.GP)(a.checkIn,"MMM dd, yyyy")):a.checkOut?"Check-out: ".concat((0,Q.GP)(a.checkOut,"MMM dd, yyyy")):f:f,onClick:()=>w(!0),disabled:h,sx:{...k,"& .MuiInputBase-input":{cursor:"pointer"}},InputProps:{readOnly:!0,endAdornment:(0,r.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[v&&W&&(0,r.jsx)(_.A,{title:C,children:ea()}),(0,r.jsx)(Y.A,{color:"action"})]})}}),v&&C&&(0,r.jsx)(T.A,{severity:(()=>{switch(W){case"available":return"success";case"unavailable":return"error";case"checking":return"info";default:return"default"}})(),sx:{mt:1},icon:ea(),children:C}),(0,r.jsxs)(u.A,{open:j,onClose:()=>w(!1),maxWidth:"md",fullWidth:!0,children:[(0,r.jsxs)(p.A,{sx:{background:"linear-gradient(45deg, #5a3d35, #d97706)",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Select Check-in & Check-out Dates",(0,r.jsx)(z.A,{onClick:()=>w(!1),sx:{color:"white"},children:(0,r.jsx)(G.A,{})})]}),(0,r.jsxs)(m.A,{sx:{p:3},children:[v&&i&&(0,r.jsx)(T.A,{severity:"info",sx:{mb:2},children:(0,r.jsxs)(l.A,{variant:"body2",children:[(0,r.jsx)("strong",{children:"Real-time Availability:"})," Dates marked in red are already booked. Only available dates can be selected."]})}),(0,r.jsxs)(c.Ay,{container:!0,spacing:3,children:[(0,r.jsx)(c.Ay,{item:!0,xs:12,md:6,children:(0,r.jsx)(q.l,{label:"Check-in Date",value:a.checkIn,onChange:e=>B("checkIn",e),minDate:o,maxDate:d,shouldDisableDate:ee,slotProps:{textField:{fullWidth:!0,helperText:"Select your arrival date"}}})}),(0,r.jsx)(c.Ay,{item:!0,xs:12,md:6,children:(0,r.jsx)(q.l,{label:"Check-out Date",value:a.checkOut,onChange:e=>B("checkOut",e),minDate:a.checkIn?(0,X.f)(a.checkIn,1):o,maxDate:d,shouldDisableDate:ee,slotProps:{textField:{fullWidth:!0,helperText:"Select your departure date"}}})})]}),v&&i&&(0,r.jsxs)(s.A,{sx:{mt:3},children:[(0,r.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:"Availability Legend"}),(0,r.jsxs)(s.A,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[(0,r.jsx)(H.A,{icon:(0,r.jsx)(L.A,{}),label:"Available",color:"success",variant:"outlined"}),(0,r.jsx)(H.A,{icon:(0,r.jsx)(N.A,{}),label:"Booked",color:"error",variant:"outlined"}),(0,r.jsx)(H.A,{icon:(0,r.jsx)(V.A,{}),label:"Past Date",color:"default",variant:"outlined"})]})]})]}),(0,r.jsxs)(y.A,{sx:{p:3,background:"#f5f5f5"},children:[(0,r.jsx)(x.A,{onClick:()=>w(!1),variant:"outlined",children:"Cancel"}),(0,r.jsx)(x.A,{onClick:()=>w(!1),variant:"contained",disabled:!a.checkIn||!a.checkOut||"unavailable"===W,sx:{background:"linear-gradient(45deg, #5a3d35, #d97706)","&:hover":{background:"linear-gradient(45deg, #4a332c, #b45309)"}},children:"Confirm Dates"})]})]})]})})}function ea(e){let{searchData:a={},handleSearchChange:t=()=>{},handleSearch:i=()=>{},setCallbackFormOpen:c=()=>{}}=e,[d,h]=(0,n.useState)(null),[g,u]=(0,n.useState)([]),p=(0,A.useRouter)(),[m,b]=(0,n.useState)(0);(0,n.useEffect)(()=>{let e=async()=>{try{await S.heroBackgroundManager.initialize();let e=await S.heroBackgroundManager.getActive();u(e),e.length>0&&h(e[m%e.length])}catch(e){console.error("Error loading hero backgrounds:",e)}};return e(),S.heroBackgroundManager.subscribe(()=>{e()})},[m]),(0,n.useEffect)(()=>{g.length>0&&h(g[m%g.length])},[m,g]),(0,n.useEffect)(()=>{if(g.length>1){let e=setInterval(()=>{b(e=>(e+1)%g.length)},5e3);return()=>clearInterval(e)}},[g.length]);let y=d||{title:"Experience Luxury Redefined",subtitle:"Discover our handpicked collection of premium villas and exceptional service",image:"https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=1600&q=80",link:"",link_text:""};return(0,r.jsxs)(s.A,{sx:{position:"relative",color:"white",py:16,textAlign:"center",minHeight:"100vh",width:"100%",height:"100vh",marginTop:"-64px",paddingTop:"300px",overflow:"hidden"},children:[g.length>0?g.map((e,a)=>(0,r.jsx)(s.A,{onClick:()=>{e.link&&p.push(e.link)},sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:'url("'.concat(e.image,'")'),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:+(a===m),transition:"opacity 1s ease-in-out",zIndex:1,cursor:e.link?"pointer":"default"}},e.id||a)):(0,r.jsx)(s.A,{onClick:()=>{y.link&&p.push(y.link)},sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:'url("'.concat(y.image,'")'),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",zIndex:1,cursor:y.link?"pointer":"default"}}),(0,r.jsx)(s.A,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(135deg, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.2) 100%)",zIndex:2}}),g.length>1&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z.A,{onClick:()=>b(e=>0===e?g.length-1:e-1),sx:{position:"absolute",left:20,top:"50%",transform:"translateY(-50%)",zIndex:4,bgcolor:"rgba(0,0,0,0.3)",color:"white","&:hover":{bgcolor:"rgba(0,0,0,0.5)"}},children:"←"}),(0,r.jsx)(z.A,{onClick:()=>b(e=>(e+1)%g.length),sx:{position:"absolute",right:20,top:"50%",transform:"translateY(-50%)",zIndex:4,bgcolor:"rgba(0,0,0,0.3)",color:"white","&:hover":{bgcolor:"rgba(0,0,0,0.5)"}},children:"→"})]}),(0,r.jsxs)(o.A,{maxWidth:"lg",sx:{position:"relative",zIndex:3},children:[(0,r.jsxs)(s.A,{sx:{animation:"fadeIn 0.8s ease-in-out","@keyframes fadeIn":{"0%":{opacity:0,transform:"translateY(20px)"},"100%":{opacity:1,transform:"translateY(0)"}}},children:[(0,r.jsx)(l.A,{variant:"h1",sx:{...B.gI.h1,color:"white",textShadow:"2px 2px 4px rgba(0,0,0,0.5)",mb:3},children:y.title}),(0,r.jsx)(l.A,{variant:"h5",sx:{...B.gI.h5,color:"white",mb:y.link?3:6,maxWidth:"800px",mx:"auto",textShadow:"1px 1px 2px rgba(0,0,0,0.5)"},children:y.subtitle})]},m),y.link&&y.link_text&&(0,r.jsx)(s.A,{sx:{mb:6,textAlign:"center",animation:"fadeInUp 0.8s ease-in-out 0.2s both","@keyframes fadeInUp":{"0%":{opacity:0,transform:"translateY(30px)"},"100%":{opacity:1,transform:"translateY(0)"}}},children:(0,r.jsx)(x.A,{variant:"outlined",size:"large",onClick:()=>p.push(y.link),sx:{color:"white",borderColor:"white",px:4,py:1.5,fontSize:"1.1rem",fontWeight:600,borderRadius:2,transition:"all 0.3s ease","&:hover":{bgcolor:"rgba(255,255,255,0.1)",borderColor:"white",transform:"translateY(-2px)"}},children:y.link_text})},"button-".concat(m)),(0,r.jsx)(s.A,{sx:{maxWidth:1200,mx:"auto",bgcolor:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(15px)",borderRadius:3,p:3,boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:(0,r.jsxs)(s.A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"2fr 2fr 1.5fr 1fr"},gap:2.5,alignItems:"end",minHeight:"60px"},children:[(0,r.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,r.jsx)(l.A,{variant:"body2",sx:{color:"white",mb:1,fontWeight:600,fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Destination"}),(0,r.jsx)(W.A,{fullWidth:!0,sx:{flex:1},children:(0,r.jsxs)(O.A,{value:a.destination,onChange:e=>t("destination",e.target.value),startAdornment:(0,r.jsx)(f.A,{sx:{...B.Ig.primary,mr:1.5}}),sx:{bgcolor:"white",borderRadius:2,height:"44px","& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiSelect-select":{py:1,fontSize:"0.9rem",fontWeight:500},"&:hover":{bgcolor:"rgba(255, 255, 255, 0.95)"}},children:[(0,r.jsx)(P.A,{value:"",disabled:!0,children:"Select a destination"}),["Ajanta, Maharashtra","Akola, Maharashtra","Alibaug, Maharashtra","Amboli, Maharashtra","Amravati, Maharashtra","Aurangabad, Maharashtra","Beed, Maharashtra","Bhandara, Maharashtra","Bhandardara, Maharashtra","Buldhana, Maharashtra","Chandrapur, Maharashtra","Chikhaldara, Maharashtra","Dhule, Maharashtra","Ellora, Maharashtra","Gadchiroli, Maharashtra","Ganpatipule, Maharashtra","Gondia, Maharashtra","Hingoli, Maharashtra","Igatpuri, Maharashtra","Jalgaon, Maharashtra","Jalna, Maharashtra","Khandala, Maharashtra","Kolhapur, Maharashtra","Latur, Maharashtra","Lonavala, Maharashtra","Mahabaleshwar, Maharashtra","Malvan, Maharashtra","Matheran, Maharashtra","Melghat, Maharashtra","Mumbai, Maharashtra","Murud, Maharashtra","Nagpur, Maharashtra","Nanded, Maharashtra","Nandurbar, Maharashtra","Nashik, Maharashtra","Osmanabad, Maharashtra","Palghar, Maharashtra","Panchgani, Maharashtra","Parbhani, Maharashtra","Pench, Maharashtra","Pune, Maharashtra","Raigad, Maharashtra","Ratnagiri, Maharashtra","Sangli, Maharashtra","Saputara, Maharashtra","Satara, Maharashtra","Shirdi, Maharashtra","Sindhudurg, Maharashtra","Solapur, Maharashtra","Tadoba, Maharashtra","Tarkarli, Maharashtra","Thane, Maharashtra","Trimbakeshwar, Maharashtra","Wardha, Maharashtra","Washim, Maharashtra","Yavatmal, Maharashtra","Goa, India","Karnataka, India","Kerala, India","Tamil Nadu, India"].map(e=>(0,r.jsx)(P.A,{value:e,children:e},e))]})})]}),(0,r.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,r.jsx)(l.A,{variant:"body2",sx:{color:"white",mb:1,fontWeight:600,fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Check In & Check Out"}),(0,r.jsx)(s.A,{sx:{flex:1},children:(0,r.jsx)(ee,{value:{checkIn:a.checkIn?new Date(a.checkIn):null,checkOut:a.checkOut?new Date(a.checkOut):null},onChange:e=>{t("checkIn",e.checkIn?e.checkIn.toISOString().split("T")[0]:""),t("checkOut",e.checkOut?e.checkOut.toISOString().split("T")[0]:"")},label:"",placeholder:"Select check-in and check-out dates",showAvailability:!1,sx:{"& .MuiOutlinedInput-root":{bgcolor:"white",borderRadius:2,height:"44px","& fieldset":{border:"none"},"&:hover fieldset":{border:"none"},"&.Mui-focused fieldset":{border:"none"},"&:hover":{bgcolor:"rgba(255, 255, 255, 0.95)"}},"& .MuiInputBase-input":{py:1,fontSize:"0.9rem",fontWeight:500}}})})]}),(0,r.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,r.jsx)(l.A,{variant:"body2",sx:{color:"white",mb:1,fontWeight:600,fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Guests"}),(0,r.jsx)(W.A,{fullWidth:!0,sx:{flex:1},children:(0,r.jsxs)(O.A,{value:a.guests,onChange:e=>t("guests",e.target.value),startAdornment:(0,r.jsx)(E.A,{sx:{...B.Ig.primary,mr:1.5}}),sx:{bgcolor:"white",borderRadius:2,height:"44px","& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiSelect-select":{py:1,fontSize:"0.9rem",fontWeight:500},"&:hover":{bgcolor:"rgba(255, 255, 255, 0.95)"}},children:[(0,r.jsx)(P.A,{value:"",disabled:!0,children:"Select guests"}),(0,r.jsx)(P.A,{value:"1",children:"1 Guest"}),(0,r.jsx)(P.A,{value:"2",children:"2 Guests"}),(0,r.jsx)(P.A,{value:"3",children:"3 Guests"}),(0,r.jsx)(P.A,{value:"4",children:"4 Guests"}),(0,r.jsx)(P.A,{value:"5",children:"5 Guests"}),(0,r.jsx)(P.A,{value:"6+",children:"6+ Guests"})]})})]}),(0,r.jsx)(s.A,{sx:{display:"flex",alignItems:"flex-end",height:"100%",pt:2.5},children:(0,r.jsx)(x.A,{variant:"contained",size:"large",onClick:i,startIcon:(0,r.jsx)(E.A,{sx:{fontSize:"1rem"}}),sx:{bgcolor:"#8B4513",color:"white",px:3,py:1.5,fontSize:"0.9rem",fontWeight:700,borderRadius:2,height:"44px",minWidth:"160px",width:"100%",textTransform:"uppercase",letterSpacing:"0.5px",boxShadow:"0 6px 15px rgba(139, 69, 19, 0.3)",transition:"all 0.3s ease","&:hover":{bgcolor:"#A0522D",transform:"translateY(-2px)",boxShadow:"0 8px 20px rgba(139, 69, 19, 0.4)"},"&:active":{transform:"translateY(0px)"}},children:"Explore Villas"})})]})})]}),g.length>1&&(0,r.jsx)(s.A,{sx:{position:"absolute",bottom:30,left:"50%",transform:"translateX(-50%)",zIndex:4,display:"flex",gap:1},children:g.map((e,a)=>(0,r.jsx)(s.A,{onClick:()=>b(a),sx:{width:12,height:12,borderRadius:"50%",bgcolor:a===m?"white":"rgba(255,255,255,0.5)",cursor:"pointer",transition:"all 0.3s ease","&:hover":{bgcolor:a===m?"white":"rgba(255,255,255,0.8)"}}},a))})]})}var et=t(5421),er=t(73543),en=t(55406);function ei(){let[e,a]=(0,n.useState)(null),[t,i]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[h,g]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{(async()=>{try{await S.dealBannerManager.initialize();let e=await S.dealBannerManager.getAll(),t=Array.isArray(e)?e[0]:e;console.log("DealBanner: Loading deal banner data:",{activeBanner:t,isActive:null==t?void 0:t.isActive,hasVideo:!!(null==t?void 0:t.videoUrl),videoUrl:null==t?void 0:t.videoUrl,hasImage:!!(null==t?void 0:t.fallbackImageUrl),imageUrl:null==t?void 0:t.fallbackImageUrl}),t&&t.isActive&&(a(t),setTimeout(()=>i(!0),500))}catch(e){console.error("Error loading deal banner:",e),g(!0)}})()},[]),h)?(console.log("DealBanner: Error state, not rendering"),null):e&&e.isActive?(0,r.jsx)(et.A,{in:t,timeout:1e3,children:(0,r.jsxs)(s.A,{sx:{background:"linear-gradient(135deg, #8B4513 0%, #000000 100%)",color:"white",py:6,position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.4)",zIndex:1}},children:[e.videoUrl&&""!==e.videoUrl.trim()&&!c&&(0,r.jsxs)(s.A,{sx:{position:"relative",zIndex:0},children:[!1,(0,r.jsxs)(s.A,{component:"video",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"metadata",controls:!1,crossOrigin:"anonymous",onLoadStart:()=>{console.log("Video loading started:",e.videoUrl),console.log("Video element:",document.querySelector("video"))},onCanPlay:()=>console.log("Video can play:",e.videoUrl),onError:e=>{e.target,d(!0)},onPlay:()=>console.log("Video started playing"),sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,opacity:.5},children:[(0,r.jsx)("source",{src:e.videoUrl,type:"video/mp4"}),(0,r.jsx)("source",{src:e.videoUrl,type:"video/webm"}),(0,r.jsx)("source",{src:e.videoUrl,type:"video/ogg"}),"Your browser does not support the video tag."]})]}),(!e.videoUrl||!e.videoUrl.trim()||c)&&e.fallbackImageUrl&&(0,r.jsx)(s.A,{component:"img",src:e.fallbackImageUrl,alt:"Deal Banner Background",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,opacity:.5}}),(0,r.jsx)(o.A,{maxWidth:"lg",sx:{position:"relative",zIndex:2},children:(0,r.jsx)(er.A,{direction:"up",in:t,timeout:800,children:(0,r.jsxs)(s.A,{sx:{textAlign:"center"},children:[(0,r.jsx)(l.A,{variant:"h2",sx:{fontWeight:700,mb:2,textShadow:"3px 3px 6px rgba(0,0,0,0.8), 1px 1px 2px rgba(0,0,0,0.9)",fontSize:{xs:"2rem",sm:"3rem",md:"4rem"},color:"white"},children:e.title}),e.subtitle&&(0,r.jsx)(l.A,{variant:"h5",sx:{mb:4,opacity:1,textShadow:"2px 2px 4px rgba(0,0,0,0.8), 1px 1px 2px rgba(0,0,0,0.9)",fontSize:{xs:"1.1rem",sm:"1.3rem",md:"1.5rem"},color:"white"},children:e.subtitle}),e.buttonLink&&""!==e.buttonLink.trim()&&(0,r.jsx)(s.A,{sx:{bgcolor:"rgba(255, 255, 255, 0.95)",borderRadius:2,p:2,display:"inline-block",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},children:(0,r.jsx)(x.A,{variant:"contained",size:"large",href:e.buttonLink,startIcon:(0,r.jsx)(en.A,{}),sx:{bgcolor:"white",color:"#8B4513",px:4,py:1.5,fontSize:"1.1rem",fontWeight:600,"&:hover":{bgcolor:"#f5f5f5",transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(0,0,0,0.3)"},transition:"all 0.3s ease"},children:e.buttonText})})]})})}),(0,r.jsx)(s.A,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",background:"radial-gradient(circle, rgba(139, 69, 19, 0.1) 0%, transparent 70%)",zIndex:0}})]})}):null}var eo=t(40126),es=t(80422),el=t(40596),ec=t(62291),ed=t(43568),eh=t(19219),eg=t(49692),ex=t(67404),eu=t(52277);function ep(e){let{maxDeals:a=4,showAllButton:t=!0}=e,[i,d]=(0,n.useState)([]),[h,g]=(0,n.useState)([]),[f,v]=(0,n.useState)("all"),[A,k]=(0,n.useState)(0),[j,w]=(0,n.useState)(null),[D,I]=(0,n.useState)(null),[F,C]=(0,n.useState)(!1),[M,W]=(0,n.useState)("https://assets.kerzner.com/api/public/content/ccec91384b584e5ca08be219f819bdfc?v=38fe3de6&t=w2880");(0,n.useEffect)(()=>{let e=async()=>{try{await S.dealManager.initialize();let e=await S.dealManager.getAll(),a=e.filter(e=>{if(console.log("Checking deal:",e.title,"isActive:",e.isActive),!e.isActive)return!1;if(!e.startDate&&!e.endDate)return console.log("Deal has no dates, considering valid:",e.title),!0;let a=new Date,t=new Date(e.startDate||new Date(0)),r=new Date(e.endDate||new Date(9999,11,31)),n=a>=t&&a<=r;return console.log("Deal date check:",e.title,"validFrom:",t,"validUntil:",r,"isValid:",n),n});await S.offersBannerManager.initialize();let t=await S.offersBannerManager.getAll(),r=t.filter(e=>{if(console.log("Checking offers banner:",e.title,"isActive:",e.isActive),!e.isActive)return!1;if(!e.startDate&&!e.endDate)return console.log("Offers banner has no dates, considering valid:",e.title),!0;let a=new Date,t=new Date(e.startDate||new Date(0)),r=new Date(e.endDate||new Date(9999,11,31)),n=a>=t&&a<=r;return console.log("Offers banner date check:",e.title,"validFrom:",t,"validUntil:",r,"isValid:",n),n}),n=r.map(e=>({id:e.id,title:e.title,subtitle:e.subtitle||"",description:e.description||"",image:e.image||"",link:e.link||"",buttonText:e.buttonText,buttonLink:e.buttonLink,fallbackImageUrl:e.backgroundImageUrl||"",isActive:e.isActive,startDate:e.startDate||new Date().toISOString(),endDate:e.endDate||new Date().toISOString(),created_at:e.created_at||new Date().toISOString(),updated_at:e.updated_at||new Date().toISOString(),discount_type:e.discountType,discount_value:e.discountValue,coupon_code:e.couponCode,min_amount:e.minOrderAmount,max_uses:e.maxUses,used_count:e.usedCount,valid_from:e.startDate||new Date().toISOString(),valid_until:e.endDate||new Date().toISOString(),category:(e=>{switch(e){case"partnership":case"promotion":return"stayvista_offer";case"seasonal":return"seasonal";default:return"general"}})(e.category),terms_conditions:e.termsAndConditions})),i=[...a,...n];console.log("DealsSection Debug:"),console.log("- Total deals from dealManager:",e.length),console.log("- Active deals from dealManager:",a.length),console.log("- Total offers banners:",t.length),console.log("- Active offers banners:",r.length),console.log("- Converted offers banners:",n.length),console.log("- Combined all deals:",i.length),console.log("- All deals data:",i),d(i),console.log("DealsSection: Set deals to:",i.length);let o=r.sort((e,a)=>(a.priority||1)-(e.priority||1))[0];o&&o.backgroundImageUrl&&W(o.backgroundImageUrl)}catch(e){console.error("Error loading data:",e),d([])}};e();let a=S.dealManager.subscribe(()=>{e()}),t=S.offersBannerManager.subscribe(()=>{e()});return()=>{a(),t()}},[]),(0,n.useEffect)(()=>{"all"===f?g(i):g(i.filter(e=>e.category===f)),k(0)},[i,f]);let O=async e=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(e);else{let a=document.createElement("textarea");a.value=e,a.style.position="fixed",a.style.left="-999999px",a.style.top="-999999px",document.body.appendChild(a),a.focus(),a.select(),document.execCommand("copy"),a.remove()}w(e),setTimeout(()=>w(null),2e3)}catch(a){console.error("Failed to copy:",a),w(e),setTimeout(()=>w(null),2e3)}},P=h.slice(A,A+a);return 0===i.length?null:(0,r.jsxs)(s.A,{sx:{position:"relative",py:.5,backgroundImage:"url(".concat(M,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.4)",zIndex:1}},children:[(0,r.jsxs)(o.A,{maxWidth:"lg",sx:{position:"relative",zIndex:2},children:[(0,r.jsxs)(s.A,{sx:{textAlign:"center",mb:0},children:[(0,r.jsx)(l.A,{variant:"h3",sx:{fontFamily:"Playfair Display, serif",color:"white",mb:2,textShadow:"2px 2px 4px rgba(0,0,0,0.7)",fontWeight:600},children:"Offers for You"}),(0,r.jsx)(l.A,{variant:"h6",sx:{color:"rgba(255, 255, 255, 0.9)",textShadow:"1px 1px 2px rgba(0,0,0,0.5)"},children:"Exclusive deals and discounts for your perfect getaway"})]}),(0,r.jsx)(s.A,{sx:{display:"flex",justifyContent:"center",mb:0,gap:1},children:[{key:"all",label:"All"},{key:"stayvista_offer",label:"Luxe Offers"},{key:"seasonal",label:"Seasonal"}].map(e=>(0,r.jsx)(x.A,{variant:f===e.key?"contained":"outlined",onClick:()=>v(e.key),sx:{borderRadius:3,textTransform:"none",px:3,py:1,fontWeight:600,position:"relative",overflow:"hidden",background:f===e.key?"linear-gradient(135deg, #FFD700, #FFA500)":"rgba(255, 255, 255, 0.2)",color:(e.key,"white"),borderColor:f===e.key?"transparent":"rgba(255, 215, 0, 0.5)",borderWidth:2,backdropFilter:"blur(10px)",boxShadow:f===e.key?"0 4px 15px rgba(255, 215, 0, 0.4)":"0 2px 8px rgba(0, 0, 0, 0.1)","&::before":{content:'""',position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent)",transition:"left 0.5s ease"},"&:hover":{background:f===e.key?"linear-gradient(135deg, #FFA500, #FF8C00)":"rgba(255, 215, 0, 0.3)",color:"white",borderColor:"rgba(255, 215, 0, 0.8)",transform:"translateY(-2px)",boxShadow:f===e.key?"0 6px 20px rgba(255, 215, 0, 0.5)":"0 4px 15px rgba(255, 215, 0, 0.3)","&::before":{left:"100%"}}},children:e.label},e.key))}),(0,r.jsxs)(s.A,{sx:{position:"relative"},children:[h.length>a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z.A,{onClick:()=>{k(e=>Math.max(0,e-1))},disabled:0===A,sx:{position:"absolute",left:-20,top:"50%",transform:"translateY(-50%)",zIndex:2,background:"linear-gradient(135deg, #FFD700, #FFA500)",backdropFilter:"blur(10px)",boxShadow:"0 6px 20px rgba(255, 215, 0, 0.4)",color:"white",border:"2px solid rgba(255, 255, 255, 0.3)","&:hover":{background:"linear-gradient(135deg, #FFA500, #FF8C00)",transform:"translateY(-50%) scale(1.1)",boxShadow:"0 8px 25px rgba(255, 215, 0, 0.6)"},"&:disabled":{opacity:.3,background:"rgba(255, 255, 255, 0.3)",color:"rgba(0, 0, 0, 0.3)"}},children:(0,r.jsx)(eh.A,{})}),(0,r.jsx)(z.A,{onClick:()=>{k(e=>Math.min(h.length-a,e+1))},disabled:A>=h.length-a,sx:{position:"absolute",right:-20,top:"50%",transform:"translateY(-50%)",zIndex:2,background:"linear-gradient(135deg, #FFD700, #FFA500)",backdropFilter:"blur(10px)",boxShadow:"0 6px 20px rgba(255, 215, 0, 0.4)",color:"white",border:"2px solid rgba(255, 255, 255, 0.3)","&:hover":{background:"linear-gradient(135deg, #FFA500, #FF8C00)",transform:"translateY(-50%) scale(1.1)",boxShadow:"0 8px 25px rgba(255, 215, 0, 0.6)"},"&:disabled":{opacity:.3,background:"rgba(255, 255, 255, 0.3)",color:"rgba(0, 0, 0, 0.3)"}},children:(0,r.jsx)(eg.A,{})})]}),(0,r.jsx)(c.Ay,{container:!0,spacing:3,children:P.map(e=>(0,r.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,r.jsxs)("div",{"data-testid":"deal-card",className:"deal-card-no-shadow",style:{height:"100%",display:"flex",flexDirection:"column",cursor:"pointer",background:"linear-gradient(135deg, #ffffff 0%, #fefefe 100%)",border:"2px solid transparent",backgroundImage:"linear-gradient(white, white), linear-gradient(135deg, #FFD700, #FFA500, #FF8C00)",backgroundOrigin:"border-box",backgroundClip:"content-box, border-box",borderRadius:"24px",position:"relative",overflow:"hidden",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"none",filter:"none"},children:[(0,r.jsx)(s.A,{className:"golden-accent",sx:{position:"absolute",top:-2,right:-2,width:20,height:20,background:"linear-gradient(135deg, #FFD700, #FFA500)",borderRadius:"50%",opacity:.7,transition:"all 0.3s ease",zIndex:2}}),(0,r.jsx)(s.A,{className:"golden-accent",sx:{position:"absolute",bottom:-1,left:-1,width:15,height:15,background:"linear-gradient(135deg, #FFA500, #FF8C00)",borderRadius:"50%",opacity:.5,transition:"all 0.3s ease",zIndex:2}}),(0,r.jsxs)(s.A,{sx:{p:2,pb:1,position:"relative",zIndex:3},children:[(0,r.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,r.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,r.jsx)(s.A,{sx:{p:.5,borderRadius:1,background:"linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 165, 0, 0.1))",border:"1px solid rgba(255, 215, 0, 0.3)"},children:(e=>{switch(e){case"bank_offer":return(0,r.jsx)(el.A,{});case"stayvista_offer":return(0,r.jsx)(ec.A,{});default:return(0,r.jsx)(ed.A,{})}})(e.category||"general")}),(0,r.jsx)(l.A,{variant:"subtitle2",sx:{fontWeight:700,background:"linear-gradient(135deg, #FFD700, #FFA500)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontSize:"0.9rem"},children:e.title})]}),(0,r.jsx)(H.A,{label:(e=>{switch(e){case"bank_offer":return"Bank Offer";case"stayvista_offer":return"Luxe Offer";case"seasonal":return"Seasonal";default:return"General"}})(e.category||"general"),size:"small",sx:{fontSize:"0.7rem",background:"linear-gradient(135deg, #FFD700, #FFA500)",color:"white",fontWeight:600,boxShadow:"0 2px 8px rgba(255, 215, 0, 0.3)","&:hover":{background:"linear-gradient(135deg, #FFA500, #FF8C00)",transform:"scale(1.05)"}}})]}),(0,r.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,r.jsx)(ex.A,{sx:{fontSize:14,color:"text.secondary"}}),(0,r.jsxs)(l.A,{variant:"caption",sx:{color:"text.secondary"},children:["Valid Till: ",new Date(e.valid_until||e.endDate||new Date().toISOString()).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})]})]})]}),(0,r.jsxs)(s.A,{sx:{flexGrow:1,pt:0,pb:2,px:2,boxShadow:"none !important"},children:[(0,r.jsx)(l.A,{variant:"body2",sx:{color:"text.secondary",mb:2,lineHeight:1.6},children:e.description}),e.terms_conditions&&(0,r.jsx)(s.A,{sx:{mb:2},children:(0,r.jsx)(x.A,{size:"small",startIcon:(0,r.jsx)(U.A,{}),onClick:()=>{I(e),C(!0)},sx:{textTransform:"none",fontSize:"0.75rem",color:"text.secondary","&:hover":{backgroundColor:"transparent"}},children:"T&C's apply"})}),e.coupon_code&&(0,r.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[(0,r.jsx)(b.A,{value:e.coupon_code,size:"small",InputProps:{readOnly:!0,sx:{fontFamily:"monospace",fontWeight:700,fontSize:"0.9rem",borderStyle:"dashed",borderWidth:2,borderColor:"#FFD700",background:"linear-gradient(135deg, rgba(255, 215, 0, 0.05), rgba(255, 165, 0, 0.05))",color:"#B8860B","&:focus":{borderColor:"#FFA500",boxShadow:"0 0 0 2px rgba(255, 215, 0, 0.2)"}}},sx:{flexGrow:1}}),(0,r.jsx)(_.A,{title:j===e.coupon_code?"Copied!":"Copy code",children:(0,r.jsx)(z.A,{size:"small",onClick:()=>O(e.coupon_code),sx:{border:"2px solid #FFD700",background:"linear-gradient(135deg, #FFD700, #FFA500)",color:"white","&:hover":{background:"linear-gradient(135deg, #FFA500, #FF8C00)",transform:"scale(1.1)",boxShadow:"0 4px 12px rgba(255, 215, 0, 0.4)"},transition:"all 0.3s ease"},children:(0,r.jsx)(eu.A,{fontSize:"small"})})})]}),(0,r.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsxs)(l.A,{variant:"caption",sx:{color:"text.secondary",fontWeight:500,display:"flex",alignItems:"center",gap:.5},children:[(0,r.jsx)(s.A,{sx:{width:6,height:6,borderRadius:"50%",background:"linear-gradient(135deg, #FFD700, #FFA500)",boxShadow:"0 0 4px rgba(255, 215, 0, 0.5)"}}),e.used_count||0," used"]}),e.discount_value?(0,r.jsxs)(s.A,{sx:{background:"linear-gradient(135deg, #DAA520, #B8860B)",borderRadius:"50%",width:50,height:50,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 15px rgba(218, 165, 32, 0.4)",border:"2px solid rgba(255, 255, 255, 0.9)","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,background:"linear-gradient(135deg, #DAA520, #B8860B)",borderRadius:"50%",zIndex:-1,filter:"blur(3px)",opacity:.5}},children:[(0,r.jsxs)(l.A,{variant:"h6",sx:{fontWeight:800,color:"white",fontSize:"0.9rem",lineHeight:1,textShadow:"0 1px 2px rgba(0,0,0,0.4)"},children:[e.discount_value,"percentage"===e.discount_type?"%":"₹"]}),(0,r.jsx)(l.A,{variant:"caption",sx:{color:"white",fontWeight:600,fontSize:"0.5rem",textShadow:"0 1px 2px rgba(0,0,0,0.4)",textTransform:"uppercase",letterSpacing:"0.3px"},children:"OFF"})]}):(0,r.jsx)(eo.A,{badgeContent:e.max_uses?"".concat(e.max_uses-(e.used_count||0)," left"):"∞",sx:{"& .MuiBadge-badge":{fontSize:"0.6rem",background:"linear-gradient(135deg, #FFD700, #FFA500)",color:"white",fontWeight:600,boxShadow:"0 2px 6px rgba(255, 215, 0, 0.3)"}}})]})]})]})},e.id))}),h.length>a&&(0,r.jsx)(s.A,{sx:{display:"flex",justifyContent:"center",mt:3},children:(0,r.jsx)(s.A,{sx:{width:200,height:6,background:"linear-gradient(135deg, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0.1))",borderRadius:3,position:"relative",overflow:"hidden",border:"1px solid rgba(255, 215, 0, 0.3)",backdropFilter:"blur(10px)"},children:(0,r.jsx)(s.A,{sx:{position:"absolute",left:"".concat(A/(h.length-a)*100,"%"),width:"".concat(a/h.length*100,"%"),height:"100%",background:"linear-gradient(135deg, #FFD700, #FFA500)",borderRadius:3,transition:"left 0.3s ease-in-out",boxShadow:"0 2px 8px rgba(255, 215, 0, 0.4)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent)",borderRadius:3}}})})})]}),t&&(0,r.jsx)(s.A,{sx:{textAlign:"center",mt:4},children:(0,r.jsx)(x.A,{variant:"outlined",size:"large",sx:{borderRadius:3,px:4,py:1.5,textTransform:"none",fontWeight:600,fontSize:"1rem",position:"relative",overflow:"hidden",border:"2px solid #FFD700",background:"linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 165, 0, 0.1))",color:"#B8860B",backdropFilter:"blur(10px)","&::before":{content:'""',position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.2), transparent)",transition:"left 0.6s ease"},"&:hover":{background:"linear-gradient(135deg, #FFD700, #FFA500)",color:"white",borderColor:"#FFD700",transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(255, 215, 0, 0.4)","&::before":{left:"100%"}}},children:"View All Offers"})})]}),(0,r.jsxs)(u.A,{open:F,onClose:()=>C(!1),maxWidth:"sm",fullWidth:!0,children:[(0,r.jsxs)(p.A,{children:["Terms & Conditions - ",null==D?void 0:D.title]}),(0,r.jsx)(m.A,{children:(0,r.jsx)(l.A,{variant:"body2",sx:{lineHeight:1.6},children:null==D?void 0:D.terms_conditions})}),(0,r.jsx)(y.A,{children:(0,r.jsx)(x.A,{onClick:()=>C(!1),children:"Close"})})]}),(0,r.jsx)(es.A,{open:null!==j,autoHideDuration:2e3,onClose:()=>w(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,r.jsxs)(T.A,{severity:"success",onClose:()=>w(null),children:['Coupon code "',j,'" copied to clipboard!']})})]})}function em(){console.log("Homepage: Component rendering");let e=(0,A.useRouter)(),a=(0,A.useSearchParams)(),{searchFormData:t,setSearchFormData:i}=(0,k.s)(),[j,D]=(0,n.useState)({destination:"",checkIn:"",checkOut:"",guests:""}),[C,z]=(0,n.useState)(!1),[W,O]=(0,n.useState)({name:"",phone:"",email:"",numberOfGuests:"",preferredTime:"",message:""}),[P,E]=(0,n.useState)([]),[B,R]=(0,n.useState)([]),[_,T]=(0,n.useState)([]),[H,L]=(0,n.useState)([]),[N,U]=(0,n.useState)([]),[Y,G]=(0,n.useState)([]),[V,q]=(0,n.useState)(null),[J,K]=(0,n.useState)(null),[X,Q]=(0,n.useState)(null);console.log("Homepage: featuredProperties state:",P.length),console.log("Homepage: allProperties state:",B.length),(0,n.useEffect)(()=>{t&&D(t)},[t]),(0,n.useEffect)(()=>{let e=a.get("destination");e&&(console.log("Destination from URL:",e),D(a=>({...a,destination:e})),i({destination:e,checkIn:"",checkOut:"",guests:"1"}))},[a,i]),(0,n.useEffect)(()=>{let e=async()=>{try{await S.propertyManager.initialize();let e=await S.propertyManager.getAll(),a=await S.propertyManager.getFeatured();R(e),E(a),console.log("Homepage: Loaded properties - All:",e.length,"Featured:",a.length)}catch(e){console.error("Error loading properties:",e)}};e();let a=S.propertyManager.subscribe(async()=>{let e=await S.propertyManager.getAll(),a=await S.propertyManager.getFeatured();R(e),E(a),console.log("Homepage: Updated properties - All:",e.length,"Featured:",a.length)}),t=a=>{var t;(null==(t=a.detail)?void 0:t.type)==="properties"&&(console.log("Homepage: Global data update event received, refreshing properties..."),e())};return window.addEventListener("dataUpdated",t),()=>{a(),window.removeEventListener("dataUpdated",t)}},[]),(0,n.useEffect)(()=>((async()=>{try{await S.destinationManager.initialize();let e=(await S.destinationManager.getAll()).map(e=>({name:e.name,image:e.image}));T(e),console.log("Homepage: Loaded destinations:",e.length)}catch(e){console.error("Error loading destinations:",e)}})(),S.destinationManager.subscribe(async()=>{let e=(await S.destinationManager.getAll()).map(e=>({name:e.name,image:e.image}));T(e),console.log("Homepage: Updated destinations:",e.length)})),[]),(0,n.useEffect)(()=>((async()=>{try{await S.dealBannerManager.initialize();let e=await S.dealBannerManager.getAll();L(e),console.log("Homepage: Loaded deal banners:",e.length)}catch(e){console.error("Error loading deal banners:",e)}})(),S.dealBannerManager.subscribe(async()=>{let e=await S.dealBannerManager.getAll();L(e),console.log("Homepage: Updated deal banners:",e.length)})),[]),(0,n.useEffect)(()=>((async()=>{try{await S.offersBannerManager.initialize();let e=await S.offersBannerManager.getAll();U(e),console.log("Homepage: Loaded offers banners:",e.length)}catch(e){console.error("Error loading offers banners:",e)}})(),S.offersBannerManager.subscribe(async()=>{let e=await S.offersBannerManager.getAll();U(e),console.log("Homepage: Updated offers banners:",e.length)})),[]),(0,n.useEffect)(()=>((async()=>{try{await S.heroBackgroundManager.initialize();let e=await S.heroBackgroundManager.getAll();G(e),console.log("Homepage: Loaded hero backgrounds:",e.length)}catch(e){console.error("Error loading hero backgrounds:",e)}})(),S.heroBackgroundManager.subscribe(async()=>{let e=await S.heroBackgroundManager.getAll();G(e),console.log("Homepage: Updated hero backgrounds:",e.length)})),[]),(0,n.useEffect)(()=>((async()=>{try{await I.initialize();let e=await I.getStats();q(e),console.log("Homepage: Loaded loyalty stats:",e)}catch(e){console.error("Error loading loyalty stats:",e)}})(),I.subscribe(async()=>{let e=await I.getStats();q(e),console.log("Homepage: Updated loyalty stats:",e)})),[]),(0,n.useEffect)(()=>{(async()=>{try{let e={isConfigured:F.gm.isConfigured,connectionTest:await F.gm.testConnection()};K(e),console.log("Homepage: Email service status:",e)}catch(e){console.error("Error checking email status:",e)}})()},[]),(0,n.useEffect)(()=>{(async()=>{try{await M.initialize();let e={isActive:!0,provider:"Razorpay"};Q(e),console.log("Homepage: Payment service status:",e)}catch(e){console.error("Error checking payment status:",e)}})()},[]);let Z=j.destination&&j.checkIn&&j.checkOut,$=(e,a)=>{O(t=>({...t,[e]:a}))};return(0,r.jsxs)("div",{children:[!1,(0,r.jsx)(ea,{searchData:j,handleSearchChange:(e,a)=>{D(t=>({...t,[e]:a}))},handleSearch:()=>{if(Z){i(j);let a=new URLSearchParams({destination:j.destination,checkIn:j.checkIn,checkOut:j.checkOut,guests:j.guests});e.push("/villas?".concat(a.toString()))}},setCallbackFormOpen:z}),(0,r.jsx)(ei,{}),(0,r.jsxs)(o.A,{maxWidth:"lg",sx:{py:8},children:[(0,r.jsx)(s.A,{sx:{textAlign:"center",mb:6},children:(0,r.jsx)(l.A,{variant:"h3",sx:{fontFamily:"Playfair Display, serif",color:"var(--primary-dark)",mb:2},children:"The Luxe Staycations Difference"})}),(0,r.jsxs)(c.Ay,{container:!0,spacing:4,children:[(0,r.jsx)(c.Ay,{item:!0,xs:12,md:4,children:(0,r.jsxs)(s.A,{sx:{textAlign:"center",p:3,height:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,r.jsx)(s.A,{sx:{width:80,height:80,borderRadius:"50%",bgcolor:"var(--primary-light)",display:"flex",alignItems:"center",justifyContent:"center",mb:3,fontSize:"2rem"},children:"\uD83C\uDFE0"}),(0,r.jsx)(l.A,{variant:"h5",sx:{fontFamily:"Playfair Display, serif",color:"var(--primary-dark)",fontWeight:"bold",mb:2},children:"Curated Excellence"}),(0,r.jsx)(l.A,{variant:"body1",sx:{color:"text.secondary",lineHeight:1.6},children:"Every villa undergoes a rigorous 50-point verification process for quality and authenticity."})]})}),(0,r.jsx)(c.Ay,{item:!0,xs:12,md:4,children:(0,r.jsxs)(s.A,{sx:{textAlign:"center",p:3,height:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,r.jsx)(s.A,{sx:{width:80,height:80,borderRadius:"50%",bgcolor:"var(--primary-light)",display:"flex",alignItems:"center",justifyContent:"center",mb:3,fontSize:"2rem"},children:"✨"}),(0,r.jsx)(l.A,{variant:"h5",sx:{fontFamily:"Playfair Display, serif",color:"var(--primary-dark)",fontWeight:"bold",mb:2},children:"Concierge Magic"}),(0,r.jsx)(l.A,{variant:"body1",sx:{color:"text.secondary",lineHeight:1.6},children:"From private chefs to yacht rentals, we orchestrate every detail of your escape."})]})}),(0,r.jsx)(c.Ay,{item:!0,xs:12,md:4,children:(0,r.jsxs)(s.A,{sx:{textAlign:"center",p:3,height:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,r.jsx)(s.A,{sx:{width:80,height:80,borderRadius:"50%",bgcolor:"var(--primary-light)",display:"flex",alignItems:"center",justifyContent:"center",mb:3,fontSize:"2rem"},children:"\uD83D\uDD12"}),(0,r.jsx)(l.A,{variant:"h5",sx:{fontFamily:"Playfair Display, serif",color:"var(--primary-dark)",fontWeight:"bold",mb:2},children:"Hassle-Free Experience"}),(0,r.jsx)(l.A,{variant:"body1",sx:{color:"text.secondary",lineHeight:1.6},children:"Secure payments, transparent pricing, and 24/7 support ensure complete peace of mind."})]})})]})]}),(0,r.jsxs)(o.A,{maxWidth:"lg",sx:{py:8},children:[(0,r.jsxs)(s.A,{sx:{textAlign:"center",mb:6},children:[(0,r.jsx)(l.A,{variant:"h3",sx:{fontFamily:"Playfair Display, serif",color:"var(--primary-dark)",mb:2},children:"Featured Luxe Retreats"}),(0,r.jsx)(l.A,{variant:"h6",sx:{color:"text.secondary"},children:"Discover our most popular and highly-rated villas"})]}),(0,r.jsx)(c.Ay,{container:!0,spacing:4,children:P.map(a=>(0,r.jsx)(c.Ay,{item:!0,xs:12,md:4,children:(0,r.jsxs)(d.A,{sx:{height:"100%",transition:"transform 0.3s ease-in-out","&:hover":{transform:"translateY(-8px)",boxShadow:4}},children:[(0,r.jsx)(h.A,{component:"img",height:"250",image:a.image,alt:a.name,sx:{objectFit:"cover"}}),(0,r.jsxs)(g.A,{sx:{p:3},children:[(0,r.jsx)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:(0,r.jsx)(l.A,{variant:"h6",sx:{fontFamily:"Playfair Display, serif",color:"var(--primary-dark)",fontWeight:"bold"},children:a.name})}),(0,r.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,r.jsx)(f.A,{sx:{color:"text.secondary",fontSize:16,mr:.5}}),(0,r.jsx)(l.A,{variant:"body2",sx:{color:"text.secondary"},children:a.location})]}),(0,r.jsx)(l.A,{variant:"body2",sx:{color:"text.secondary",mb:2},children:a.description}),(0,r.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsxs)(l.A,{variant:"h6",sx:{color:"var(--primary-dark)",fontWeight:"bold"},children:["₹",a.price.toLocaleString(),"/night"]}),(0,r.jsx)(x.A,{variant:"outlined",onClick:()=>e.push("/villas?property=".concat(a.id)),sx:{borderColor:"var(--secondary-dark)",color:"var(--secondary-dark)","&:hover":{borderColor:"var(--primary-dark)",color:"var(--primary-dark)"}},children:"View Details"})]})]})]})},a.id))})]}),(0,r.jsx)(s.A,{sx:{bgcolor:"grey.50",py:8},children:(0,r.jsxs)(o.A,{maxWidth:"lg",children:[(0,r.jsxs)(s.A,{sx:{textAlign:"center",mb:6},children:[(0,r.jsx)(l.A,{variant:"h3",sx:{fontFamily:"Playfair Display, serif",color:"var(--primary-dark)",mb:2},children:"Popular Destinations"}),(0,r.jsx)(l.A,{variant:"h6",sx:{color:"text.secondary"},children:"Explore our most sought-after locations"})]}),(0,r.jsx)(c.Ay,{container:!0,spacing:3,children:_.map((a,t)=>(0,r.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,r.jsxs)(d.A,{sx:{cursor:"pointer",transition:"transform 0.3s ease-in-out","&:hover":{transform:"scale(1.05)",boxShadow:4}},onClick:()=>(a=>{let t=new URLSearchParams({destination:encodeURIComponent(a)});j.checkIn&&t.append("checkIn",j.checkIn),j.checkOut&&t.append("checkOut",j.checkOut),j.guests&&t.append("guests",j.guests),e.push("/villas?".concat(t.toString()))})(a.name),children:[(0,r.jsx)(h.A,{component:"img",height:"200",image:a.image,alt:a.name,sx:{objectFit:"cover"}}),(0,r.jsx)(g.A,{sx:{textAlign:"center",p:2},children:(0,r.jsx)(l.A,{variant:"h6",sx:{fontFamily:"Playfair Display, serif",color:"var(--primary-dark)",fontWeight:"bold"},children:a.name})})]})},t))})]})}),(0,r.jsx)(ep,{}),(0,r.jsx)(s.A,{sx:{position:"relative",py:6,borderTop:"1px solid #F0F0F0",borderBottom:"1px solid #F0F0F0",backgroundImage:'url("https://scdn.aro.ie/Sites/50/imperialhotels2022/uploads/images/FullLengthImages/Large/SB12129735_Bedford_Hotel_Interior__Reception._4500x3000.jpg")',backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(2px)",zIndex:1}},children:(0,r.jsxs)(o.A,{maxWidth:"lg",sx:{position:"relative",zIndex:2},children:[(0,r.jsxs)(s.A,{sx:{textAlign:"center",mb:5,background:"rgba(255, 255, 255, 0.9)",borderRadius:2,p:3,backdropFilter:"blur(10px)"},children:[(0,r.jsx)(l.A,{variant:"h4",sx:{fontFamily:"Playfair Display, serif",color:"#3E2723",mb:2,fontWeight:700,letterSpacing:"0.5px"},children:"Luxe Jewels Loyalty Program"}),(0,r.jsx)(l.A,{variant:"body1",sx:{color:"#5D4037",mb:3,fontFamily:"Nunito, sans-serif",fontWeight:400,fontSize:"1rem"},children:"Earn exclusive jewels with every stay and unlock premium benefits"})]}),(0,r.jsxs)(c.Ay,{container:!0,spacing:3,children:[(0,r.jsx)(c.Ay,{item:!0,xs:12,md:6,children:(0,r.jsx)(d.A,{sx:{background:"linear-gradient(135deg, #3E2723 0%, #5D4037 100%)",color:"white",height:"100%",boxShadow:"0 6px 24px rgba(62, 39, 35, 0.2)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 36px rgba(62, 39, 35, 0.3)"}},children:(0,r.jsxs)(g.A,{sx:{textAlign:"center",p:3},children:[(0,r.jsx)(s.A,{sx:{width:60,height:60,borderRadius:"50%",background:"rgba(255, 255, 255, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",mx:"auto",mb:2},children:(0,r.jsx)(l.A,{variant:"h4",sx:{color:"white",fontWeight:300},children:"J"})}),(0,r.jsx)(l.A,{variant:"h5",sx:{fontWeight:700,mb:2,fontFamily:"Playfair Display, serif",letterSpacing:"0.5px"},children:"Earn Jewels"}),(0,r.jsxs)(l.A,{variant:"body2",sx:{mb:3,opacity:.9,fontFamily:"Nunito, sans-serif",fontSize:"0.95rem",lineHeight:1.5},children:["Collect 1 jewel for every ₹100 spent on your luxury villa bookings",V&&(0,r.jsxs)(s.A,{sx:{mt:1,fontSize:"0.85rem"},children:["Active Members: ",V.totalMembers||0," | Total Jewels Earned: ",V.totalJewels||0]})]}),(0,r.jsx)(x.A,{variant:"contained",onClick:()=>e.push("/loyalty"),sx:{background:"rgba(255, 255, 255, 0.9)",color:"#3E2723",fontWeight:600,px:3,py:1,borderRadius:2,fontFamily:"Nunito, sans-serif",textTransform:"none",fontSize:"0.9rem",transition:"all 0.3s ease","&:hover":{background:"white",transform:"translateY(-1px)",boxShadow:"0 4px 16px rgba(255, 255, 255, 0.3)"}},children:"View Dashboard"})]})})}),(0,r.jsx)(c.Ay,{item:!0,xs:12,md:6,children:(0,r.jsx)(d.A,{sx:{background:"linear-gradient(135deg, #5D4037 0%, #8D6E63 100%)",color:"white",height:"100%",boxShadow:"0 6px 24px rgba(93, 64, 55, 0.2)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 36px rgba(93, 64, 55, 0.3)"}},children:(0,r.jsxs)(g.A,{sx:{textAlign:"center",p:3},children:[(0,r.jsx)(s.A,{sx:{width:60,height:60,borderRadius:"50%",background:"rgba(255, 255, 255, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",mx:"auto",mb:2},children:(0,r.jsx)(l.A,{variant:"h4",sx:{color:"white",fontWeight:300},children:"R"})}),(0,r.jsx)(l.A,{variant:"h5",sx:{fontWeight:700,mb:2,fontFamily:"Playfair Display, serif",letterSpacing:"0.5px"},children:"Redeem Rewards"}),(0,r.jsx)(l.A,{variant:"body2",sx:{mb:3,opacity:.9,fontFamily:"Nunito, sans-serif",fontSize:"0.95rem",lineHeight:1.5},children:"Transform your jewels into exclusive discounts and premium upgrades"}),(0,r.jsx)(x.A,{variant:"contained",onClick:()=>e.push("/loyalty"),sx:{background:"rgba(255, 255, 255, 0.9)",color:"#5D4037",fontWeight:600,px:3,py:1,borderRadius:2,fontFamily:"Nunito, sans-serif",textTransform:"none",fontSize:"0.9rem",transition:"all 0.3s ease","&:hover":{background:"white",transform:"translateY(-1px)",boxShadow:"0 4px 16px rgba(255, 255, 255, 0.3)"}},children:"Redeem Now"})]})})})]})]})}),(0,r.jsxs)(o.A,{maxWidth:"lg",sx:{py:8},children:[(0,r.jsxs)(s.A,{sx:{textAlign:"center",mb:6},children:[(0,r.jsx)(l.A,{variant:"h3",sx:{fontFamily:"Playfair Display, serif",color:"var(--primary-dark)",mb:2},children:"\uD83E\uDD1D Partner With Us"}),(0,r.jsx)(l.A,{variant:"h6",sx:{color:"text.secondary",mb:4},children:"Join our network and grow your business with Luxe Staycations"})]}),(0,r.jsxs)(c.Ay,{container:!0,spacing:4,children:[(0,r.jsx)(c.Ay,{item:!0,xs:12,md:8,children:(0,r.jsxs)(d.A,{sx:{p:4},children:[(0,r.jsx)(l.A,{variant:"h5",sx:{fontFamily:"Playfair Display, serif",color:"var(--primary-dark)",mb:3},children:"Why Partner With Us?"}),(0,r.jsxs)(c.Ay,{container:!0,spacing:3,children:[(0,r.jsxs)(c.Ay,{item:!0,xs:12,sm:6,children:[(0,r.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,r.jsx)(s.A,{sx:{width:40,height:40,bgcolor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:"\uD83D\uDCC8"}),(0,r.jsx)(l.A,{variant:"h6",children:"Revenue Growth"})]}),(0,r.jsx)(l.A,{variant:"body2",sx:{color:"text.secondary"},children:"Increase your bookings and revenue with our premium clientele"})]}),(0,r.jsxs)(c.Ay,{item:!0,xs:12,sm:6,children:[(0,r.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,r.jsx)(s.A,{sx:{width:40,height:40,bgcolor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:"\uD83D\uDEE1️"}),(0,r.jsx)(l.A,{variant:"h6",children:"Secure Payments"})]}),(0,r.jsx)(l.A,{variant:"body2",sx:{color:"text.secondary"},children:"Safe and reliable payment processing with Razorpay"})]}),(0,r.jsxs)(c.Ay,{item:!0,xs:12,sm:6,children:[(0,r.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,r.jsx)(s.A,{sx:{width:40,height:40,bgcolor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:"\uD83D\uDCCA"}),(0,r.jsx)(l.A,{variant:"h6",children:"Analytics Dashboard"})]}),(0,r.jsx)(l.A,{variant:"body2",sx:{color:"text.secondary"},children:"Detailed insights into your performance and bookings"})]}),(0,r.jsxs)(c.Ay,{item:!0,xs:12,sm:6,children:[(0,r.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,r.jsx)(s.A,{sx:{width:40,height:40,bgcolor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",mr:2},children:"⚡"}),(0,r.jsx)(l.A,{variant:"h6",children:"Quick Onboarding"})]}),(0,r.jsx)(l.A,{variant:"body2",sx:{color:"text.secondary"},children:"Get started in minutes with our streamlined process"})]})]})]})}),(0,r.jsx)(c.Ay,{item:!0,xs:12,md:4,children:(0,r.jsx)(d.A,{sx:{background:"linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-light) 100%)",color:"white",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center"},children:(0,r.jsxs)(g.A,{sx:{textAlign:"center",p:4},children:[(0,r.jsx)(l.A,{variant:"h5",sx:{mb:3},children:"Ready to Partner?"}),(0,r.jsx)(l.A,{variant:"body1",sx:{mb:4},children:"Join our exclusive network of luxury property partners"}),(0,r.jsx)(x.A,{variant:"contained",size:"large",onClick:()=>e.push("/partner-with-us"),sx:{bgcolor:"white",color:"var(--primary-dark)",fontWeight:600,px:4,"&:hover":{bgcolor:"#f0f0f0"}},children:"Apply Now"})]})})})]})]}),(0,r.jsxs)(o.A,{maxWidth:"lg",sx:{py:16},children:[(0,r.jsxs)(s.A,{sx:{textAlign:"center",mb:8},children:[(0,r.jsx)(l.A,{variant:"body2",sx:{color:"text.secondary",mb:2,textTransform:"uppercase",letterSpacing:1,fontWeight:500},children:"Our Blog"}),(0,r.jsx)(l.A,{variant:"h3",sx:{fontFamily:"Playfair Display, serif",color:"var(--primary-dark)",mb:4},children:"The Ultimate Villa Experience"}),(0,r.jsx)(l.A,{variant:"h6",sx:{color:"text.secondary"},children:"Discover luxury staycations, exclusive villa insights, and premium travel experiences"})]}),(0,r.jsxs)(c.Ay,{container:!0,spacing:4,children:[(0,r.jsx)(c.Ay,{item:!0,xs:12,md:4,children:(0,r.jsxs)(d.A,{sx:{height:"100%",cursor:"pointer",transition:"all 0.3s ease","&:hover":{transform:"translateY(-8px)",boxShadow:"0 12px 40px rgba(0,0,0,0.15)"}},onClick:()=>e.push("/blog/luxury-villa-amenities"),children:[(0,r.jsx)(h.A,{component:"img",height:"240",image:"https://visitmaldives.s3.amazonaws.com/go0mRMwZ/c/kxhw2dyl-shareable_image.jpg",alt:"Luxury villa amenities",sx:{objectFit:"cover"}}),(0,r.jsxs)(g.A,{sx:{p:3},children:[(0,r.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,r.jsx)(l.A,{variant:"body2",sx:{color:"text.secondary",fontWeight:500},children:"By Sarah Williams"}),(0,r.jsx)(l.A,{variant:"body2",sx:{color:"text.secondary"},children:"11/5/2025"})]}),(0,r.jsx)(l.A,{variant:"h6",sx:{fontWeight:600,mb:2,lineHeight:1.3,color:"var(--primary-dark)"},children:"Must-Have Amenities in Luxury Villas for the Perfect Staycation"}),(0,r.jsx)(l.A,{variant:"body2",sx:{color:"text.secondary",lineHeight:1.6},children:"From private pools to gourmet kitchens, discover the essential amenities that make your villa stay truly luxurious."})]})]})}),(0,r.jsx)(c.Ay,{item:!0,xs:12,md:4,children:(0,r.jsxs)(d.A,{sx:{height:"100%",cursor:"pointer",transition:"all 0.3s ease","&:hover":{transform:"translateY(-8px)",boxShadow:"0 12px 40px rgba(0,0,0,0.15)"}},onClick:()=>e.push("/blog/perfect-villa-booking"),children:[(0,r.jsx)(h.A,{component:"img",height:"240",image:"https://www.travelanddestinations.com/wp-content/uploads/2019/05/Beautiful-places-in-Italy-Burano.jpg",alt:"Villa booking guide",sx:{objectFit:"cover"}}),(0,r.jsxs)(g.A,{sx:{p:3},children:[(0,r.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,r.jsx)(l.A,{variant:"body2",sx:{color:"text.secondary",fontWeight:500},children:"By Michael Chen"}),(0,r.jsx)(l.A,{variant:"body2",sx:{color:"text.secondary"},children:"11/5/2025"})]}),(0,r.jsx)(l.A,{variant:"h6",sx:{fontWeight:600,mb:2,lineHeight:1.3,color:"var(--primary-dark)"},children:"How to Choose the Perfect Luxury Villa for Your Staycation"}),(0,r.jsx)(l.A,{variant:"body2",sx:{color:"text.secondary",lineHeight:1.6},children:"Expert tips on selecting the ideal villa that matches your luxury preferences and travel style."})]})]})}),(0,r.jsx)(c.Ay,{item:!0,xs:12,md:4,children:(0,r.jsxs)(d.A,{sx:{height:"100%",cursor:"pointer",transition:"all 0.3s ease","&:hover":{transform:"translateY(-8px)",boxShadow:"0 12px 40px rgba(0,0,0,0.15)"}},onClick:()=>e.push("/blog/family-villa-getaways"),children:[(0,r.jsx)(h.A,{component:"img",height:"240",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&q=80",alt:"Family villa getaways",sx:{objectFit:"cover"}}),(0,r.jsxs)(g.A,{sx:{p:3},children:[(0,r.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,r.jsx)(l.A,{variant:"body2",sx:{color:"text.secondary",fontWeight:500},children:"By Priya Sharma"}),(0,r.jsx)(l.A,{variant:"body2",sx:{color:"text.secondary"},children:"11/5/2025"})]}),(0,r.jsx)(l.A,{variant:"h6",sx:{fontWeight:600,mb:2,lineHeight:1.3,color:"var(--primary-dark)"},children:"Family-Friendly Luxury Villas: Creating Unforgettable Memories"}),(0,r.jsx)(l.A,{variant:"body2",sx:{color:"text.secondary",lineHeight:1.6},children:"Discover spacious villas perfect for family gatherings, with amenities that cater to all age groups."})]})]})})]}),(0,r.jsx)(s.A,{sx:{textAlign:"center",mt:6},children:(0,r.jsx)(x.A,{variant:"outlined",size:"large",onClick:()=>e.push("/blog"),sx:{borderColor:"var(--secondary-dark)",color:"var(--secondary-dark)",px:6,py:2,borderRadius:2,fontSize:"1.1rem",fontWeight:600,fontFamily:"Nunito, sans-serif",textTransform:"none","&:hover":{borderColor:"var(--secondary-dark)",bgcolor:"var(--secondary-dark)",color:"white",transform:"translateY(-2px)",boxShadow:"0 4px 20px rgba(0,0,0,0.15)"},transition:"all 0.3s ease"},children:"Explore More Villa Stories"})})]}),(0,r.jsx)(o.A,{maxWidth:"lg",sx:{py:8},children:(0,r.jsxs)(c.Ay,{container:!0,spacing:6,alignItems:"center",children:[(0,r.jsx)(c.Ay,{item:!0,xs:12,md:6,children:(0,r.jsx)(s.A,{sx:{position:"relative"},children:(0,r.jsx)("img",{src:"https://media.vrbo.com/lodging/84000000/83390000/83381400/83381369/c2e741a3.jpg?impolicy=resizecrop&rw=575&rh=575&ra=fill",alt:"Luxury Villa Experience",style:{width:"100%",height:"500px",objectFit:"cover",borderRadius:"12px"}})})}),(0,r.jsx)(c.Ay,{item:!0,xs:12,md:6,children:(0,r.jsxs)(s.A,{sx:{pl:{xs:0,md:4}},children:[(0,r.jsx)(l.A,{variant:"h3",sx:{fontFamily:"Playfair Display, serif",color:"var(--primary-dark)",mb:3,whiteSpace:"nowrap",textAlign:"left",ml:{xs:-1,md:-2}},children:"The LUXE Villa Experience"}),(0,r.jsx)(l.A,{variant:"h6",sx:{color:"text.secondary",mb:4,lineHeight:1.6,textAlign:"left"},children:"Every villa in our collection is personally curated and verified through our rigorous 50-point Luxe Certification process. We don't just offer accommodations—we deliver transformative experiences where every detail is crafted for your absolute comfort and luxury."}),(0,r.jsx)(c.Ay,{container:!0,spacing:2,children:["Infinity Pools","Private Chef","Dedicated Butler","Entertainment Hub","Luxe Certified","Bespoke Celebrations","Designer Interiors","Daily Housekeeping"].map((e,a)=>(0,r.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,r.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",p:2,bgcolor:"var(--primary-light)",borderRadius:2,mb:1},children:[(0,r.jsx)(s.A,{sx:{width:8,height:8,borderRadius:"50%",bgcolor:"var(--secondary-dark)",mr:2}}),(0,r.jsx)(l.A,{variant:"body2",sx:{fontWeight:500,color:"white"},children:e})]})},a))})]})})]})}),(0,r.jsxs)(o.A,{maxWidth:"lg",sx:{py:8},children:[(0,r.jsxs)(s.A,{sx:{textAlign:"center",mb:6},children:[(0,r.jsx)(l.A,{variant:"h3",sx:{fontFamily:"Playfair Display, serif",color:"var(--primary-dark)",mb:2},children:"Need Help?"}),(0,r.jsx)(l.A,{variant:"h6",sx:{color:"text.secondary"},children:"Let us call you back and help you find the perfect villa"})]}),(0,r.jsx)(s.A,{sx:{bgcolor:"var(--primary-light)",borderRadius:2,p:4,textAlign:"center"},children:(0,r.jsx)(x.A,{variant:"contained",size:"large",onClick:()=>z(!0),startIcon:(0,r.jsx)(v.A,{}),sx:{bgcolor:"var(--secondary-dark)",color:"white",px:4,py:1.5,fontSize:"1.1rem","&:hover":{bgcolor:"var(--primary-dark)"}},children:"Request Callback"})})]}),(0,r.jsxs)(u.A,{open:C,onClose:()=>z(!1),maxWidth:"sm",fullWidth:!0,children:[(0,r.jsx)(p.A,{sx:{fontFamily:"Playfair Display, serif",color:"var(--primary-dark)"},children:"Request Callback"}),(0,r.jsx)(m.A,{children:(0,r.jsxs)(c.Ay,{container:!0,spacing:2,sx:{mt:1},children:[(0,r.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,r.jsx)(b.A,{fullWidth:!0,label:"Name",value:W.name,onChange:e=>$("name",e.target.value)})}),(0,r.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,r.jsx)(b.A,{fullWidth:!0,label:"Phone",value:W.phone,onChange:e=>$("phone",e.target.value)})}),(0,r.jsx)(c.Ay,{item:!0,xs:12,children:(0,r.jsx)(b.A,{fullWidth:!0,label:"Email",type:"email",value:W.email,onChange:e=>$("email",e.target.value)})}),(0,r.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,r.jsx)(b.A,{fullWidth:!0,label:"Number of Guests",value:W.numberOfGuests,onChange:e=>$("numberOfGuests",e.target.value)})}),(0,r.jsx)(c.Ay,{item:!0,xs:12,sm:6,children:(0,r.jsx)(b.A,{fullWidth:!0,label:"Preferred Time",value:W.preferredTime,onChange:e=>$("preferredTime",e.target.value)})}),(0,r.jsx)(c.Ay,{item:!0,xs:12,children:(0,r.jsx)(b.A,{fullWidth:!0,label:"Message",multiline:!0,rows:3,value:W.message,onChange:e=>$("message",e.target.value)})})]})}),(0,r.jsxs)(y.A,{sx:{p:3},children:[(0,r.jsx)(x.A,{onClick:()=>z(!1),children:"Cancel"}),(0,r.jsx)(x.A,{onClick:()=>(()=>{try{let e=w.addCallback(W);console.log("Callback request submitted:",e),alert("Thank you! We will call you back soon. Your request has been submitted."),z(!1),O({name:"",phone:"",email:"",numberOfGuests:"",preferredTime:"",message:""})}catch(e){console.error("Error submitting callback request:",e),alert("Sorry, there was an error submitting your request. Please try again.")}})(),variant:"contained",sx:{bgcolor:"var(--secondary-dark)",color:"white","&:hover":{bgcolor:"var(--primary-dark)"}},children:"Submit Request"})]})]})]})}function eb(){return(0,r.jsxs)(n.Suspense,{fallback:(0,r.jsx)(s.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:(0,r.jsx)(l.A,{children:"Loading..."})}),children:[(0,r.jsx)(em,{}),(0,r.jsx)(i.A,{phoneNumber:"+91-8828279739",message:"Hello! I'm interested in your luxury villas. Can you help me find the perfect staycation experience?",variant:"floating",size:"large",position:{bottom:20,right:20}})]})}},85903:(e,a,t)=>{"use strict";t.d(a,{s:()=>s,v:()=>o});var r=t(95155),n=t(12115);let i=(0,n.createContext)(void 0);function o(e){let{children:a}=e,[o,s]=(0,n.useState)(null),[l,c]=(0,n.useState)({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",country:"",specialRequests:""}),[d,h]=(0,n.useState)({checkIn:"",checkOut:"",guests:"",totalNights:0,total:0,propertyId:"",propertyName:"",propertyLocation:"",propertyImage:"",propertyPrice:0}),[g,x]=(0,n.useState)(null),[u,p]=(0,n.useState)([]);(0,n.useEffect)(()=>{{let e=localStorage.getItem("luxeBookings");if(e)try{p(JSON.parse(e))}catch(e){console.error("Error loading bookings from localStorage:",e)}}},[]),(0,n.useEffect)(()=>{localStorage.setItem("luxeBookings",JSON.stringify(u))},[u]);let m=async e=>{p(a=>[...a,e]),console.log("Booking added:",e);try{let a=await fetch("/api/bookings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guestName:"".concat(e.guestInfo.firstName," ").concat(e.guestInfo.lastName),guestEmail:e.guestInfo.email,guestPhone:e.guestInfo.phone,propertyId:e.bookingDetails.propertyId,propertyName:e.bookingDetails.propertyName,checkIn:e.bookingDetails.checkIn,checkOut:e.bookingDetails.checkOut,guests:parseInt(e.bookingDetails.guests),amount:e.bookingDetails.total,status:e.status,paymentStatus:e.paymentStatus,specialRequests:e.guestInfo.specialRequests})});if(a.ok){let e=await a.json();console.log("Booking saved to Supabase:",e)}else console.error("Failed to save booking to Supabase:",await a.text())}catch(e){console.error("Error saving booking to Supabase:",e)}};return(0,r.jsx)(i.Provider,{value:{searchFormData:o,setSearchFormData:s,guestInfo:l,setGuestInfo:c,bookingDetails:d,setBookingDetails:h,completeBooking:g,setCompleteBooking:x,allBookings:u,addBooking:m,updateBooking:(e,a)=>{p(t=>t.map(t=>t.id===e?{...t,...a,updatedAt:new Date().toISOString()}:t)),console.log("Booking updated:",e,a),t.e(8991).then(t.bind(t,68991)).then(async t=>{let{bookingManager:r}=t;try{let t=await r.getById(e);if(t){var n,i,o,s,l,c,d,h;r.update(e,{guestName:a.guestInfo?"".concat(a.guestInfo.firstName||""," ").concat(a.guestInfo.lastName||"").trim():t.guestName,guestEmail:(null==(n=a.guestInfo)?void 0:n.email)||t.guestEmail,guestPhone:(null==(i=a.guestInfo)?void 0:i.phone)||t.guestPhone,property_id:(null==(o=a.bookingDetails)?void 0:o.propertyId)||t.property_id,checkIn:(null==(s=a.bookingDetails)?void 0:s.checkIn)||t.checkIn,checkOut:(null==(l=a.bookingDetails)?void 0:l.checkOut)||t.checkOut,guests:(null==(c=a.bookingDetails)?void 0:c.guests)?parseInt(a.bookingDetails.guests):"string"==typeof t.guests?parseInt(t.guests):t.guests,totalAmount:(null==(d=a.bookingDetails)?void 0:d.total)||t.totalAmount,status:"confirmed",specialRequests:(null==(h=a.guestInfo)?void 0:h.specialRequests)||t.specialRequests||""}),console.log("Successfully synced booking update to admin dashboard via DataManager")}}catch(e){console.error("Error syncing booking update to admin dashboard:",e)}})},getBookingById:e=>u.find(a=>a.id===e),clearBookingData:()=>{s(null),c({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",country:"",specialRequests:""}),h({checkIn:"",checkOut:"",guests:"",totalNights:0,total:0,propertyId:"",propertyName:"",propertyLocation:"",propertyImage:"",propertyPrice:0}),x(null)},syncToAdminDashboard:()=>{console.log("Syncing booking data to admin dashboard..."),console.log("DataManager automatically handles Supabase sync and real-time updates")}},children:a})}function s(){let e=(0,n.useContext)(i);if(void 0===e)throw Error("useBookingContext must be used within a BookingProvider");return e}}},e=>{e.O(0,[5446,134,5493,5436,3077,7247,8548,8020,2403,9562,4211,835,872,422,2380,9925,6721,8441,1255,7358],()=>e(e.s=659)),_N_E=e.O()}]);