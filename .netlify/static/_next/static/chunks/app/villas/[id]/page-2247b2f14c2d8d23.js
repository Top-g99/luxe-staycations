(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2124,8991],{58639:(e,s,t)=>{Promise.resolve().then(t.bind(t,88808))},68991:(e,s,t)=>{"use strict";t.r(s),t.d(s,{DataManager:()=>a,bookingManager:()=>l,callbackManager:()=>m,couponManagerInstance:()=>A,dealBannerManager:()=>d,dealManager:()=>g,destinationManager:()=>x,heroBackgroundManager:()=>h,masterDataManager:()=>p,mockBookings:()=>i,mockProperties:()=>n,mockUsers:()=>r,offersBannerManager:()=>u,propertyManager:()=>o,userManager:()=>c});let n=[{id:"1",name:"Luxury Villa 1",description:"Beautiful luxury villa with ocean view",price:500,location:"Goa",type:"villa",amenities:["pool","wifi","ac"],images:["/images/villa1.jpg"],featured:!0,available:!0,max_guests:8,bedrooms:4,bathrooms:3,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],i=[{id:"1",property_id:"1",user_id:"1",guestName:"John Doe",guestEmail:"john@example.com",guestPhone:"+1234567890",checkIn:"2024-01-01",checkOut:"2024-01-05",guests:4,totalAmount:2e3,status:"confirmed",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],r=[{id:"1",email:"user@example.com",name:"John Doe",phone:"+1234567890",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];class a{async initialize(){return Promise.resolve()}async getAll(){return this.data}async getById(e){return this.data.find(s=>s.id===e)||null}async create(e){return this.data.push(e),e}async update(e,s){let t=this.data.findIndex(s=>s.id===e);return -1!==t?(this.data[t]={...this.data[t],...s},this.data[t]):null}async delete(e){let s=this.data.findIndex(s=>s.id===e);return -1!==s&&(this.data.splice(s,1),!0)}async redeemCoupon(e,s,t,n,i){return console.log("Redeeming coupon:",{code:e,amount:s,bookingId:t,email:n,name:i}),{success:!0,discount:0}}async validateCoupon(e,s){return console.log("Validating coupon:",{code:e,amount:s}),{isValid:!0,discount:0,message:"Coupon is valid"}}async getFeatured(){return this.data.filter(e=>!0===e.featured)}async getActive(){return this.data.filter(e=>!0===e.isActive)}subscribe(e){return()=>{}}async initializeAll(){await this.getAll()}getStats(){return{total:this.data.length,loading:!1,initialized:!0}}async clear(){this.data=[]}constructor(e){this.data=[],this.tableName=e}}let o=new a("properties"),l=new a("bookings"),c=new a("users"),d=new a("dealBanners"),x=new a("destinations"),h=new a("heroBackgrounds"),g=new a("deals"),u=new a("offersBanners"),m=new a("callbacks"),A=new a("coupons"),p=new a("masterData")},85903:(e,s,t)=>{"use strict";t.d(s,{s:()=>o,v:()=>a});var n=t(95155),i=t(12115);let r=(0,i.createContext)(void 0);function a(e){let{children:s}=e,[a,o]=(0,i.useState)(null),[l,c]=(0,i.useState)({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",country:"",specialRequests:""}),[d,x]=(0,i.useState)({checkIn:"",checkOut:"",guests:"",totalNights:0,total:0,propertyId:"",propertyName:"",propertyLocation:"",propertyImage:"",propertyPrice:0}),[h,g]=(0,i.useState)(null),[u,m]=(0,i.useState)([]);(0,i.useEffect)(()=>{{let e=localStorage.getItem("luxeBookings");if(e)try{m(JSON.parse(e))}catch(e){console.error("Error loading bookings from localStorage:",e)}}},[]),(0,i.useEffect)(()=>{localStorage.setItem("luxeBookings",JSON.stringify(u))},[u]);let A=async e=>{m(s=>[...s,e]),console.log("Booking added:",e);try{let s=await fetch("/api/bookings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guestName:"".concat(e.guestInfo.firstName," ").concat(e.guestInfo.lastName),guestEmail:e.guestInfo.email,guestPhone:e.guestInfo.phone,propertyId:e.bookingDetails.propertyId,propertyName:e.bookingDetails.propertyName,checkIn:e.bookingDetails.checkIn,checkOut:e.bookingDetails.checkOut,guests:parseInt(e.bookingDetails.guests),amount:e.bookingDetails.total,status:e.status,paymentStatus:e.paymentStatus,specialRequests:e.guestInfo.specialRequests})});if(s.ok){let e=await s.json();console.log("Booking saved to Supabase:",e)}else console.error("Failed to save booking to Supabase:",await s.text())}catch(e){console.error("Error saving booking to Supabase:",e)}};return(0,n.jsx)(r.Provider,{value:{searchFormData:a,setSearchFormData:o,guestInfo:l,setGuestInfo:c,bookingDetails:d,setBookingDetails:x,completeBooking:h,setCompleteBooking:g,allBookings:u,addBooking:A,updateBooking:(e,s)=>{m(t=>t.map(t=>t.id===e?{...t,...s,updatedAt:new Date().toISOString()}:t)),console.log("Booking updated:",e,s),t.e(8991).then(t.bind(t,68991)).then(async t=>{let{bookingManager:n}=t;try{let t=await n.getById(e);if(t){var i,r,a,o,l,c,d,x;n.update(e,{guestName:s.guestInfo?"".concat(s.guestInfo.firstName||""," ").concat(s.guestInfo.lastName||"").trim():t.guestName,guestEmail:(null==(i=s.guestInfo)?void 0:i.email)||t.guestEmail,guestPhone:(null==(r=s.guestInfo)?void 0:r.phone)||t.guestPhone,property_id:(null==(a=s.bookingDetails)?void 0:a.propertyId)||t.property_id,checkIn:(null==(o=s.bookingDetails)?void 0:o.checkIn)||t.checkIn,checkOut:(null==(l=s.bookingDetails)?void 0:l.checkOut)||t.checkOut,guests:(null==(c=s.bookingDetails)?void 0:c.guests)?parseInt(s.bookingDetails.guests):"string"==typeof t.guests?parseInt(t.guests):t.guests,totalAmount:(null==(d=s.bookingDetails)?void 0:d.total)||t.totalAmount,status:"confirmed",specialRequests:(null==(x=s.guestInfo)?void 0:x.specialRequests)||t.specialRequests||""}),console.log("Successfully synced booking update to admin dashboard via DataManager")}}catch(e){console.error("Error syncing booking update to admin dashboard:",e)}})},getBookingById:e=>u.find(s=>s.id===e),clearBookingData:()=>{o(null),c({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",country:"",specialRequests:""}),x({checkIn:"",checkOut:"",guests:"",totalNights:0,total:0,propertyId:"",propertyName:"",propertyLocation:"",propertyImage:"",propertyPrice:0}),g(null)},syncToAdminDashboard:()=>{console.log("Syncing booking data to admin dashboard..."),console.log("DataManager automatically handles Supabase sync and real-time updates")}},children:s})}function o(){let e=(0,i.useContext)(r);if(void 0===e)throw Error("useBookingContext must be used within a BookingProvider");return e}},88808:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>ef});var n=t(95155),i=t(12115),r=t(97322),a=t(23315),o=t(80851),l=t(16711),c=t(28548),d=t(33077),x=t(29767),h=t(84578),g=t(70690),u=t(21067),m=t(48833),A=t(52363),p=t(65036),j=t(9562),y=t(52641),b=t(95436),f=t(88450),v=t(86973),k=t(75912),I=t(84318),w=t(20081),S=t(47695),C=t(97688),W=t(36741),R=t(61205),P=t(75854),N=t(78784),D=t(20063),O=t(68991),B=t(85903),z=t(41983),F=t(39047),_=t(55406),M=t(76115),L=t(77073),E=t(14287),T=t(74441);function G(e){let{images:s=[],mainImage:t,virtualTour:r,floorPlan:l,propertyName:d}=e,[x,h]=(0,i.useState)(0),[u,A]=(0,i.useState)(!1),[j,y]=(0,i.useState)(0),b=[t,...s].filter(Boolean),f=b.slice(0,5),v=e=>{y(e),A(!0)};return(0,n.jsxs)(o.A,{children:[(0,n.jsx)(o.A,{sx:{position:"relative",mb:2},children:(0,n.jsxs)(o.A,{sx:{position:"relative",height:400,borderRadius:3,overflow:"hidden",cursor:"pointer","&:hover .image-overlay":{opacity:1}},onClick:()=>v(0),children:[(0,n.jsx)("img",{src:f[0]||t,alt:d,style:{width:"100%",height:"100%",objectFit:"cover"}}),(0,n.jsx)(o.A,{className:"image-overlay",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"opacity 0.3s ease"},children:(0,n.jsx)(z.A,{sx:{color:"white",backgroundColor:"rgba(255, 255, 255, 0.2)","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.3)"}},children:(0,n.jsx)(F.A,{})})}),b.length>1&&(0,n.jsx)(c.A,{label:"1 of ".concat(b.length),sx:{position:"absolute",top:16,right:16,backgroundColor:"rgba(0, 0, 0, 0.7)",color:"white"}}),r&&(0,n.jsx)(g.A,{variant:"contained",startIcon:(0,n.jsx)(_.A,{}),onClick:()=>{r&&window.open(r,"_blank")},sx:{position:"absolute",bottom:16,left:16,backgroundColor:"rgba(0, 0, 0, 0.7)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.8)"}},children:"Virtual Tour"})]})}),f.length>1&&(0,n.jsxs)(o.A,{sx:{display:"flex",gap:1,overflowX:"auto",pb:1},children:[f.slice(1).map((e,s)=>(0,n.jsx)(o.A,{sx:{minWidth:80,height:60,borderRadius:1,overflow:"hidden",cursor:"pointer",border:x===s+1?"2px solid #5a3d35":"2px solid transparent",transition:"border-color 0.3s ease"},onClick:()=>{h(s+1),v(s+1)},children:(0,n.jsx)("img",{src:e,alt:"".concat(d," ").concat(s+2),style:{width:"100%",height:"100%",objectFit:"cover"}})},s)),b.length>5&&(0,n.jsx)(o.A,{sx:{minWidth:80,height:60,borderRadius:1,backgroundColor:"rgba(0, 0, 0, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},onClick:()=>v(0),children:(0,n.jsxs)(a.A,{variant:"caption",sx:{color:"text.secondary"},children:["+",b.length-5," more"]})})]}),l&&(0,n.jsxs)(o.A,{sx:{mt:2},children:[(0,n.jsxs)(a.A,{variant:"h6",sx:{mb:1,display:"flex",alignItems:"center",gap:1},children:[(0,n.jsx)(M.A,{}),"Floor Plan"]}),(0,n.jsx)(o.A,{sx:{height:200,borderRadius:2,overflow:"hidden",cursor:"pointer",border:"1px solid #e0e0e0"},onClick:()=>v(b.length),children:(0,n.jsx)("img",{src:l,alt:"".concat(d," Floor Plan"),style:{width:"100%",height:"100%",objectFit:"contain",backgroundColor:"#f5f5f5"}})})]}),(0,n.jsx)(m.A,{open:u,onClose:()=>A(!1),maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{backgroundColor:"black",color:"white"}},children:(0,n.jsxs)(p.A,{sx:{p:0,position:"relative"},children:[(0,n.jsx)(z.A,{onClick:()=>A(!1),sx:{position:"absolute",top:16,right:16,color:"white",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1},children:(0,n.jsx)(L.A,{})}),b.length>1&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(z.A,{onClick:()=>{y(e=>e>0?e-1:b.length-1)},sx:{position:"absolute",left:16,top:"50%",transform:"translateY(-50%)",color:"white",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1},children:(0,n.jsx)(E.A,{})}),(0,n.jsx)(z.A,{onClick:()=>{y(e=>e<b.length-1?e+1:0)},sx:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",color:"white",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1},children:(0,n.jsx)(T.A,{})})]}),(0,n.jsx)(o.A,{sx:{height:"80vh",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)("img",{src:b[j]||l,alt:"".concat(d," ").concat(j+1),style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})}),(0,n.jsxs)(a.A,{variant:"body2",sx:{position:"absolute",bottom:16,left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0, 0, 0, 0.7)",px:2,py:1,borderRadius:1},children:[j+1," of ",b.length+ +!!l]})]})})]})}var q=t(41602),H=t(92025),V=t(49501),J=t(17681),Y=t(54138),U=t(91497),X=t(82424),K=t(36944),Q=t(67404),Z=t(51937),$=t(40685),ee=t(23325),es=t(8245);function et(e){let{specifications:s,policies:t,maxGuests:i}=e;return s||t?(0,n.jsxs)(o.A,{children:[s&&(0,n.jsx)(x.A,{sx:{mb:3},children:(0,n.jsxs)(h.A,{children:[(0,n.jsx)(a.A,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Property Details"}),(0,n.jsxs)(d.Ay,{container:!0,spacing:3,children:[(0,n.jsx)(d.Ay,{item:!0,xs:6,sm:3,children:(0,n.jsxs)(o.A,{sx:{textAlign:"center"},children:[(0,n.jsx)(Y.A,{sx:{fontSize:32,color:"primary.main",mb:1}}),(0,n.jsx)(a.A,{variant:"h6",sx:{fontWeight:600},children:s.bedrooms}),(0,n.jsxs)(a.A,{variant:"body2",color:"text.secondary",children:["Bedroom",s.bedrooms>1?"s":""]})]})}),(0,n.jsx)(d.Ay,{item:!0,xs:6,sm:3,children:(0,n.jsxs)(o.A,{sx:{textAlign:"center"},children:[(0,n.jsx)(U.A,{sx:{fontSize:32,color:"primary.main",mb:1}}),(0,n.jsx)(a.A,{variant:"h6",sx:{fontWeight:600},children:s.bathrooms}),(0,n.jsxs)(a.A,{variant:"body2",color:"text.secondary",children:["Bathroom",s.bathrooms>1?"s":""]})]})}),(0,n.jsx)(d.Ay,{item:!0,xs:6,sm:3,children:(0,n.jsxs)(o.A,{sx:{textAlign:"center"},children:[(0,n.jsx)(X.A,{sx:{fontSize:32,color:"primary.main",mb:1}}),(0,n.jsx)(a.A,{variant:"h6",sx:{fontWeight:600},children:s.sqft}),(0,n.jsx)(a.A,{variant:"body2",color:"text.secondary",children:"Sq Ft"})]})}),(0,n.jsx)(d.Ay,{item:!0,xs:6,sm:3,children:(0,n.jsxs)(o.A,{sx:{textAlign:"center"},children:[(0,n.jsx)(K.A,{sx:{fontSize:32,color:"primary.main",mb:1}}),(0,n.jsx)(a.A,{variant:"h6",sx:{fontWeight:600},children:i}),(0,n.jsxs)(a.A,{variant:"body2",color:"text.secondary",children:["Guest",i>1?"s":""]})]})})]}),(0,n.jsx)(u.A,{sx:{my:3}}),(0,n.jsxs)(d.Ay,{container:!0,spacing:3,children:[(0,n.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,n.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,n.jsx)(Q.A,{sx:{color:"text.secondary"}}),(0,n.jsxs)(o.A,{children:[(0,n.jsx)(a.A,{variant:"body2",color:"text.secondary",children:"Check-in"}),(0,n.jsx)(a.A,{variant:"body1",sx:{fontWeight:500},children:s.checkInTime})]})]})}),(0,n.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,n.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,n.jsx)(Q.A,{sx:{color:"text.secondary"}}),(0,n.jsxs)(o.A,{children:[(0,n.jsx)(a.A,{variant:"body2",color:"text.secondary",children:"Check-out"}),(0,n.jsx)(a.A,{variant:"body1",sx:{fontWeight:500},children:s.checkOutTime})]})]})})]}),(0,n.jsxs)(o.A,{sx:{mt:2},children:[(0,n.jsx)(a.A,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Property Type"}),(0,n.jsx)(c.A,{label:s.propertyType,color:"primary",variant:"outlined"})]})]})}),(null==s?void 0:s.houseRules)&&s.houseRules.length>0&&(0,n.jsx)(x.A,{sx:{mb:3},children:(0,n.jsxs)(h.A,{children:[(0,n.jsxs)(a.A,{variant:"h6",sx:{mb:2,fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[(0,n.jsx)(Z.A,{}),"House Rules"]}),(0,n.jsx)(q.A,{dense:!0,children:s.houseRules.map((e,s)=>(0,n.jsxs)(H.Ay,{sx:{px:0},children:[(0,n.jsx)(V.A,{sx:{minWidth:32},children:(0,n.jsx)(o.A,{sx:{width:6,height:6,borderRadius:"50%",backgroundColor:"primary.main"}})}),(0,n.jsx)(J.A,{primary:e})]},s))})]})}),t&&(0,n.jsx)(x.A,{children:(0,n.jsxs)(h.A,{children:[(0,n.jsx)(a.A,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Policies"}),(0,n.jsxs)(d.Ay,{container:!0,spacing:3,children:[(0,n.jsxs)(d.Ay,{item:!0,xs:12,sm:6,children:[(0,n.jsx)(a.A,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Cancellation Policy"}),(0,n.jsx)(a.A,{variant:"body1",children:t.cancellation})]}),(0,n.jsxs)(d.Ay,{item:!0,xs:12,sm:6,children:[(0,n.jsx)(a.A,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Check-in Policy"}),(0,n.jsx)(a.A,{variant:"body1",children:t.checkIn})]})]}),(0,n.jsx)(u.A,{sx:{my:3}}),(0,n.jsxs)(d.Ay,{container:!0,spacing:2,children:[(0,n.jsx)(d.Ay,{item:!0,xs:12,sm:4,children:(0,n.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.smoking?(0,n.jsx)($.A,{sx:{color:"error.main"}}):(0,n.jsx)($.A,{sx:{color:"success.main"}}),(0,n.jsx)(a.A,{variant:"body2",children:t.smoking?"Smoking Allowed":"No Smoking"})]})}),(0,n.jsx)(d.Ay,{item:!0,xs:12,sm:4,children:(0,n.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.pets?(0,n.jsx)(ee.A,{sx:{color:"success.main"}}):(0,n.jsx)(ee.A,{sx:{color:"error.main"}}),(0,n.jsx)(a.A,{variant:"body2",children:t.pets?"Pets Allowed":"No Pets"})]})}),(0,n.jsx)(d.Ay,{item:!0,xs:12,sm:4,children:(0,n.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.parties?(0,n.jsx)(es.A,{sx:{color:"success.main"}}):(0,n.jsx)(es.A,{sx:{color:"error.main"}}),(0,n.jsx)(a.A,{variant:"body2",children:t.parties?"Parties Allowed":"No Parties"})]})})]})]})})]}):null}var en=t(62953),ei=t(89732),er=t(36523),ea=t(24463);function eo(e){let{neighborhood:s,location:t}=e;return s?(0,n.jsx)(x.A,{children:(0,n.jsxs)(h.A,{children:[(0,n.jsxs)(a.A,{variant:"h6",sx:{mb:3,fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[(0,n.jsx)(R.A,{}),"Neighborhood & Location"]}),(0,n.jsxs)(o.A,{sx:{mb:3},children:[(0,n.jsx)(a.A,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Location"}),(0,n.jsx)(a.A,{variant:"body1",sx:{fontWeight:500},children:t})]}),(0,n.jsx)(u.A,{sx:{mb:3}}),(0,n.jsxs)(d.Ay,{container:!0,spacing:3,sx:{mb:3},children:[(0,n.jsx)(d.Ay,{item:!0,xs:6,sm:3,children:(0,n.jsxs)(o.A,{sx:{textAlign:"center"},children:[(0,n.jsx)(en.A,{sx:{fontSize:32,color:"primary.main",mb:1}}),(0,n.jsxs)(a.A,{variant:"h6",sx:{fontWeight:600},children:[s.distanceToAirport," km"]}),(0,n.jsx)(a.A,{variant:"body2",color:"text.secondary",children:"To Airport"})]})}),(0,n.jsx)(d.Ay,{item:!0,xs:6,sm:3,children:(0,n.jsxs)(o.A,{sx:{textAlign:"center"},children:[(0,n.jsx)(ei.A,{sx:{fontSize:32,color:"primary.main",mb:1}}),(0,n.jsxs)(a.A,{variant:"h6",sx:{fontWeight:600},children:[s.distanceToBeach," km"]}),(0,n.jsx)(a.A,{variant:"body2",color:"text.secondary",children:"To Beach"})]})})]}),(0,n.jsx)(u.A,{sx:{mb:3}}),s.attractions&&s.attractions.length>0&&(0,n.jsxs)(o.A,{sx:{mb:3},children:[(0,n.jsxs)(a.A,{variant:"subtitle1",sx:{mb:2,fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[(0,n.jsx)(er.A,{}),"Nearby Attractions"]}),(0,n.jsx)(o.A,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:s.attractions.map((e,s)=>(0,n.jsx)(c.A,{label:e,variant:"outlined",size:"small"},s))})]}),s.restaurants&&s.restaurants.length>0&&(0,n.jsxs)(o.A,{sx:{mb:3},children:[(0,n.jsxs)(a.A,{variant:"subtitle1",sx:{mb:2,fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[(0,n.jsx)(C.A,{}),"Nearby Restaurants"]}),(0,n.jsx)(o.A,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:s.restaurants.map((e,s)=>(0,n.jsx)(c.A,{label:e,variant:"outlined",size:"small",color:"secondary"},s))})]}),s.nearbyActivities&&s.nearbyActivities.length>0&&(0,n.jsxs)(o.A,{children:[(0,n.jsxs)(a.A,{variant:"subtitle1",sx:{mb:2,fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[(0,n.jsx)(ea.A,{}),"Nearby Activities"]}),(0,n.jsx)(q.A,{dense:!0,children:s.nearbyActivities.map((e,s)=>(0,n.jsxs)(H.Ay,{sx:{px:0},children:[(0,n.jsx)(V.A,{sx:{minWidth:32},children:(0,n.jsx)(o.A,{sx:{width:6,height:6,borderRadius:"50%",backgroundColor:"primary.main"}})}),(0,n.jsx)(J.A,{primary:e})]},s))})]})]})}):null}var el=t(43568),ec=t(74527),ed=t(2154);function ex(e){let{pricing:s,basePrice:t}=e,i=(null==s?void 0:s.basePrice)||t;return(0,n.jsx)(x.A,{children:(0,n.jsxs)(h.A,{children:[(0,n.jsxs)(a.A,{variant:"h6",sx:{mb:3,fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[(0,n.jsx)(el.A,{}),"Pricing & Offers"]}),(0,n.jsx)(o.A,{sx:{mb:3},children:(0,n.jsxs)(d.Ay,{container:!0,spacing:3,children:[(0,n.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,n.jsxs)(o.A,{sx:{textAlign:"center",p:2,backgroundColor:"rgba(90, 61, 53, 0.05)",borderRadius:2},children:[(0,n.jsxs)(a.A,{variant:"h4",sx:{fontWeight:700,color:"primary.main"},children:["₹",i.toLocaleString()]}),(0,n.jsx)(a.A,{variant:"body2",color:"text.secondary",children:"Per Night"})]})}),(null==s?void 0:s.weekendPrice)&&(0,n.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,n.jsxs)(o.A,{sx:{textAlign:"center",p:2,backgroundColor:"rgba(217, 119, 6, 0.05)",borderRadius:2},children:[(0,n.jsxs)(a.A,{variant:"h5",sx:{fontWeight:600,color:"secondary.main"},children:["₹",s.weekendPrice.toLocaleString()]}),(0,n.jsx)(a.A,{variant:"body2",color:"text.secondary",children:"Weekend Rate"})]})})]})}),(0,n.jsx)(u.A,{sx:{mb:3}}),(null==s?void 0:s.seasonalRates)&&Object.keys(s.seasonalRates).length>0&&(0,n.jsxs)(o.A,{sx:{mb:3},children:[(0,n.jsxs)(a.A,{variant:"subtitle1",sx:{mb:2,fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[(0,n.jsx)(P.A,{}),"Seasonal Rates"]}),(0,n.jsx)(d.Ay,{container:!0,spacing:2,children:Object.entries(s.seasonalRates).map(e=>{let[s,t]=e;return(0,n.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,n.jsxs)(o.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:2,border:"1px solid #e0e0e0",borderRadius:1},children:[(0,n.jsx)(a.A,{variant:"body1",sx:{fontWeight:500,textTransform:"capitalize"},children:s}),(0,n.jsxs)(a.A,{variant:"h6",sx:{fontWeight:600,color:"primary.main"},children:["₹",t.toLocaleString()]})]})},s)})})]}),(null==s?void 0:s.offers)&&(0,n.jsxs)(o.A,{children:[(0,n.jsxs)(a.A,{variant:"subtitle1",sx:{mb:2,fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[(0,n.jsx)(ec.A,{}),"Special Offers"]}),(0,n.jsxs)(q.A,{dense:!0,children:[s.offers.earlyBird&&(0,n.jsxs)(H.Ay,{sx:{px:0},children:[(0,n.jsx)(V.A,{sx:{minWidth:32},children:(0,n.jsx)(W.A,{sx:{color:"success.main"}})}),(0,n.jsx)(J.A,{primary:"Early Bird Discount",secondary:"Save ".concat(s.offers.earlyBird,"% on bookings made 30+ days in advance")})]}),s.offers.longStay&&(0,n.jsxs)(H.Ay,{sx:{px:0},children:[(0,n.jsx)(V.A,{sx:{minWidth:32},children:(0,n.jsx)(W.A,{sx:{color:"success.main"}})}),(0,n.jsx)(J.A,{primary:"Long Stay Discount",secondary:"Save ".concat(s.offers.longStay,"% on stays of 7+ nights")})]}),s.offers.groupDiscount&&(0,n.jsxs)(H.Ay,{sx:{px:0},children:[(0,n.jsx)(V.A,{sx:{minWidth:32},children:(0,n.jsx)(ed.A,{sx:{color:"success.main"}})}),(0,n.jsx)(J.A,{primary:"Group Discount",secondary:"Save ".concat(s.offers.groupDiscount,"% for groups of 8+ guests")})]})]})]}),!(null==s?void 0:s.offers)&&(0,n.jsx)(o.A,{sx:{textAlign:"center",py:2},children:(0,n.jsx)(a.A,{variant:"body2",color:"text.secondary",children:"No special offers available at this time"})})]})})}var eh=t(73741),eg=t(62291),eu=t(21199),em=t(62962),eA=t(63186);function ep(e){let{propertyReviews:s=[],overallRating:t,totalReviews:r}=e,[m,A]=(0,i.useState)(!1),[p,j]=(0,i.useState)(null),y=m?s:s.slice(0,3);return 0===s.length?(0,n.jsx)(x.A,{children:(0,n.jsxs)(h.A,{children:[(0,n.jsx)(a.A,{variant:"h6",sx:{mb:2,fontWeight:600},children:"Guest Reviews"}),(0,n.jsxs)(o.A,{sx:{textAlign:"center",py:4},children:[(0,n.jsx)(eg.A,{sx:{fontSize:48,color:"text.secondary",mb:2}}),(0,n.jsx)(a.A,{variant:"body1",color:"text.secondary",children:"No reviews yet. Be the first to review this property!"})]})]})}):(0,n.jsx)(x.A,{children:(0,n.jsxs)(h.A,{children:[(0,n.jsx)(a.A,{variant:"h6",sx:{mb:3,fontWeight:600},children:"Guest Reviews"}),(0,n.jsx)(o.A,{sx:{mb:3,p:3,backgroundColor:"rgba(90, 61, 53, 0.05)",borderRadius:2},children:(0,n.jsxs)(d.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,n.jsx)(d.Ay,{item:!0,xs:12,sm:4,children:(0,n.jsxs)(o.A,{sx:{textAlign:"center"},children:[(0,n.jsx)(a.A,{variant:"h2",sx:{fontWeight:700,color:"primary.main"},children:t.toFixed(1)}),(0,n.jsx)(l.A,{value:t,precision:.1,readOnly:!0,size:"large"}),(0,n.jsxs)(a.A,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Based on ",r," review",r>1?"s":""]})]})}),(0,n.jsx)(d.Ay,{item:!0,xs:12,sm:8,children:(0,n.jsx)(o.A,{sx:{display:"flex",flexDirection:"column",gap:1},children:[5,4,3,2,1].map(e=>{let t=s.filter(s=>Math.round(s.rating)===e).length,i=r>0?t/r*100:0;return(0,n.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,n.jsx)(a.A,{variant:"body2",sx:{minWidth:20},children:e}),(0,n.jsx)(eg.A,{sx:{fontSize:16,color:"text.secondary"}}),(0,n.jsx)(o.A,{sx:{flex:1,height:8,backgroundColor:"#e0e0e0",borderRadius:4,overflow:"hidden"},children:(0,n.jsx)(o.A,{sx:{height:"100%",backgroundColor:"primary.main",width:"".concat(i,"%"),transition:"width 0.3s ease"}})}),(0,n.jsx)(a.A,{variant:"body2",sx:{minWidth:30,textAlign:"right"},children:t})]},e)})})})]})}),(0,n.jsx)(u.A,{sx:{mb:3}}),(0,n.jsx)(o.A,{children:y.map((e,s)=>(0,n.jsxs)(o.A,{sx:{mb:3},children:[(0,n.jsxs)(o.A,{sx:{display:"flex",gap:2,mb:2},children:[(0,n.jsx)(eh.A,{sx:{backgroundColor:"primary.main"},children:e.guestName.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)}),(0,n.jsxs)(o.A,{sx:{flex:1},children:[(0,n.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,n.jsx)(a.A,{variant:"subtitle1",sx:{fontWeight:600},children:e.guestName}),e.verified&&(0,n.jsx)(c.A,{icon:(0,n.jsx)(eu.A,{}),label:"Verified",size:"small",color:"success",variant:"outlined"})]}),(0,n.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,n.jsx)(l.A,{value:e.rating,precision:.1,readOnly:!0,size:"small"}),(0,n.jsx)(a.A,{variant:"body2",color:"text.secondary",children:new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),(0,n.jsx)(a.A,{variant:"body1",sx:{lineHeight:1.6,display:e.comment.length>200&&p!==e.id?"-webkit-box":"block",WebkitLineClamp:e.comment.length>200&&p!==e.id?3:"unset",WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.comment}),e.comment.length>200&&(0,n.jsx)(g.A,{size:"small",onClick:()=>j(p===e.id?null:e.id),sx:{mt:1,p:0,minWidth:"auto"},children:p===e.id?(0,n.jsxs)(n.Fragment,{children:["Show less ",(0,n.jsx)(em.A,{})]}):(0,n.jsxs)(n.Fragment,{children:["Show more ",(0,n.jsx)(eA.A,{})]})})]})]}),s<y.length-1&&(0,n.jsx)(u.A,{})]},e.id))}),s.length>3&&(0,n.jsx)(o.A,{sx:{textAlign:"center",mt:3},children:(0,n.jsx)(g.A,{variant:"outlined",onClick:()=>A(!m),endIcon:m?(0,n.jsx)(em.A,{}):(0,n.jsx)(eA.A,{}),children:m?"Show Less":"Show All ".concat(s.length," Reviews")})})]})})}var ej=t(98964),ey=t(14041);function eb(e){let{highlights:s=[],amenities:t,rating:i,reviews:r,featured:l}=e,c=s.length>0?s:[i>=4.5&&"".concat(i.toFixed(1),"★ Highly Rated (").concat(r," reviews)"),l&&"Featured Property",t.includes("Pool")&&"Private Pool Access",t.includes("Wifi")&&"High-Speed WiFi",t.includes("Spa")&&"Spa & Wellness Center",t.includes("Restaurant")&&"On-Site Restaurant"].filter(Boolean),g=e=>e.includes("★")||e.includes("Rated")?(0,n.jsx)(eg.A,{}):e.includes("Featured")?(0,n.jsx)(ej.A,{}):e.includes("Pool")?(0,n.jsx)(w.A,{}):e.includes("WiFi")?(0,n.jsx)(I.A,{}):e.includes("Spa")?(0,n.jsx)(S.A,{}):e.includes("Restaurant")?(0,n.jsx)(C.A,{}):e.includes("Security")?(0,n.jsx)(ey.A,{}):e.includes("Trending")?(0,n.jsx)(ec.A,{}):(0,n.jsx)(W.A,{}),u=e=>e.includes("★")||e.includes("Rated")?"primary":e.includes("Featured")?"error":e.includes("Pool")||e.includes("Spa")?"info":e.includes("WiFi")||e.includes("Restaurant")?"secondary":"success";return 0===c.length?null:(0,n.jsx)(x.A,{sx:{mb:3},children:(0,n.jsxs)(h.A,{children:[(0,n.jsxs)(a.A,{variant:"h6",sx:{mb:3,fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[(0,n.jsx)(eg.A,{}),"Property Highlights"]}),(0,n.jsx)(d.Ay,{container:!0,spacing:2,children:c.map((e,s)=>(0,n.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,n.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:2,p:2,backgroundColor:"rgba(90, 61, 53, 0.05)",borderRadius:2,border:"1px solid rgba(90, 61, 53, 0.1)",transition:"all 0.3s ease","&:hover":{backgroundColor:"rgba(90, 61, 53, 0.1)",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(90, 61, 53, 0.15)"}},children:[(0,n.jsx)(o.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:40,height:40,borderRadius:"50%",backgroundColor:"".concat(u(e),".light"),color:"".concat(u(e),".main")},children:g(e)}),(0,n.jsx)(a.A,{variant:"body1",sx:{fontWeight:500,flex:1},children:e})]})},s))}),(0,n.jsx)(o.A,{sx:{display:{xs:"block",sm:"none"},mt:2},children:(0,n.jsx)(q.A,{dense:!0,children:c.map((e,s)=>(0,n.jsxs)(H.Ay,{sx:{px:0},children:[(0,n.jsx)(V.A,{sx:{minWidth:32},children:(0,n.jsx)(o.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24,borderRadius:"50%",backgroundColor:"".concat(u(e),".light"),color:"".concat(u(e),".main")},children:g(e)})}),(0,n.jsx)(J.A,{primary:e})]},s))})})]})})}function ef(){var e;let s=(0,D.useParams)(),t=(0,D.useRouter)(),{setBookingDetails:I,setGuestInfo:w,setSearchFormData:S}=(0,B.s)(),[C,W]=(0,i.useState)(null),[z,F]=(0,i.useState)(!0),[_,M]=(0,i.useState)(0),[L,E]=(0,i.useState)(!1),[T,q]=(0,i.useState)({checkIn:"",checkOut:"",guests:""});return((0,i.useEffect)(()=>{(async()=>{try{await O.propertyManager.initialize();let e=s.id,n=O.propertyManager.getById(e);n?W(await n):t.push("/villas"),F(!1)}catch(e){console.error("Error loading property:",e),F(!1)}})()},[s.id,t]),z)?(0,n.jsx)(r.A,{maxWidth:"lg",sx:{py:8},children:(0,n.jsx)(a.A,{children:"Loading property details..."})}):C?(0,n.jsxs)(r.A,{maxWidth:"lg",sx:{py:8},children:[(0,n.jsxs)(o.A,{sx:{mb:4},children:[(0,n.jsx)(a.A,{variant:"h3",sx:{fontWeight:600,mb:2},children:C.name}),(0,n.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,n.jsx)(R.A,{sx:{color:"text.secondary",mr:1}}),(0,n.jsx)(a.A,{variant:"body1",sx:{color:"text.secondary"},children:C.location})]}),(0,n.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,n.jsx)(l.A,{value:4.5,precision:.1,readOnly:!0}),(0,n.jsx)(a.A,{variant:"body1",sx:{ml:1},children:"4.5 (10 reviews)"})]}),(0,n.jsx)(c.A,{label:"Villa",color:"primary"})]}),(0,n.jsxs)(d.Ay,{container:!0,spacing:4,children:[(0,n.jsxs)(d.Ay,{item:!0,xs:12,md:8,children:[(0,n.jsx)(o.A,{sx:{mb:4},children:(0,n.jsx)(G,{images:C.images||[],mainImage:(null==(e=C.images)?void 0:e[0])||"",propertyName:C.name})}),(0,n.jsx)(eb,{amenities:C.amenities,rating:4.5,reviews:10,featured:C.featured}),(0,n.jsxs)(o.A,{sx:{mb:4},children:[(0,n.jsx)(a.A,{variant:"h5",sx:{fontWeight:600,mb:3},children:"About this property"}),(0,n.jsx)(a.A,{variant:"body1",sx:{lineHeight:1.8,mb:3},children:C.description})]}),(0,n.jsx)(et,{maxGuests:C.max_guests}),(0,n.jsx)(eo,{location:C.location}),(0,n.jsx)(ex,{basePrice:C.price}),(0,n.jsx)(ep,{overallRating:4.5,totalReviews:10})]}),(0,n.jsx)(d.Ay,{item:!0,xs:12,md:4,children:(0,n.jsx)(x.A,{sx:{position:"sticky",top:100},children:(0,n.jsxs)(h.A,{children:[(0,n.jsxs)(a.A,{variant:"h4",sx:{fontWeight:600,mb:2},children:["₹",C.price.toLocaleString(),(0,n.jsx)(a.A,{component:"span",variant:"body1",sx:{color:"text.secondary"},children:"/night"})]}),(0,n.jsx)(o.A,{sx:{mb:3},children:(0,n.jsx)(g.A,{fullWidth:!0,variant:"contained",size:"large",onClick:()=>E(!0),sx:{background:"linear-gradient(45deg, #5a3d35, #d97706)","&:hover":{background:"linear-gradient(45deg, #4a332c, #b45309)"}},children:"Book Now"})}),(0,n.jsx)(u.A,{sx:{my:2}}),(0,n.jsx)(a.A,{variant:"body2",sx:{color:"text.secondary",textAlign:"center"},children:"You won't be charged yet"})]})})})]}),(0,n.jsxs)(m.A,{open:L,onClose:()=>E(!1),maxWidth:"sm",fullWidth:!0,children:[(0,n.jsxs)(A.A,{children:[(0,n.jsx)(a.A,{variant:"h5",sx:{fontWeight:600},children:"Book Your Stay"}),(0,n.jsx)(a.A,{variant:"body1",sx:{color:"text.secondary"},children:C.name})]}),(0,n.jsx)(p.A,{children:(0,n.jsx)(o.A,{sx:{mt:2},children:(0,n.jsxs)(d.Ay,{container:!0,spacing:3,children:[(0,n.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,n.jsx)(j.A,{fullWidth:!0,label:"Check-in Date",type:"date",value:T.checkIn,onChange:e=>q({...T,checkIn:e.target.value}),InputLabelProps:{shrink:!0},InputProps:{startAdornment:(0,n.jsx)(P.A,{sx:{color:"text.secondary",mr:1}})}})}),(0,n.jsx)(d.Ay,{item:!0,xs:12,sm:6,children:(0,n.jsx)(j.A,{fullWidth:!0,label:"Check-out Date",type:"date",value:T.checkOut,onChange:e=>q({...T,checkOut:e.target.value}),InputLabelProps:{shrink:!0},InputProps:{startAdornment:(0,n.jsx)(P.A,{sx:{color:"text.secondary",mr:1}})}})}),(0,n.jsx)(d.Ay,{item:!0,xs:12,children:(0,n.jsxs)(y.A,{fullWidth:!0,children:[(0,n.jsx)(b.A,{children:"Number of Guests"}),(0,n.jsx)(f.A,{value:T.guests,onChange:e=>q({...T,guests:e.target.value}),label:"Number of Guests",startAdornment:(0,n.jsx)(N.A,{sx:{color:"text.secondary",mr:1}}),children:Array.from({length:C.max_guests||10},(e,s)=>s+1).map(e=>(0,n.jsxs)(v.A,{value:e.toString(),children:[e," ",1===e?"Guest":"Guests"]},e))})]})})]})})}),(0,n.jsxs)(k.A,{sx:{p:3},children:[(0,n.jsx)(g.A,{onClick:()=>E(!1),variant:"outlined",children:"Cancel"}),(0,n.jsx)(g.A,{onClick:()=>{if(C&&T.checkIn&&T.checkOut&&T.guests){var e;let s=new Date(T.checkIn),n=Math.ceil((new Date(T.checkOut).getTime()-s.getTime())/864e5),i=C.price*n;S({destination:C.location,checkIn:T.checkIn,checkOut:T.checkOut,guests:T.guests}),I({checkIn:T.checkIn,checkOut:T.checkOut,guests:T.guests,totalNights:n,total:i,propertyId:C.id,propertyName:C.name,propertyLocation:C.location,propertyImage:(null==(e=C.images)?void 0:e[0])||"",propertyPrice:C.price}),E(!1),t.push("/booking/checkout")}},variant:"contained",disabled:!T.checkIn||!T.checkOut||!T.guests,sx:{background:"linear-gradient(45deg, #5a3d35, #d97706)","&:hover":{background:"linear-gradient(45deg, #4a332c, #b45309)"}},children:"Continue to Booking"})]})]})]}):(0,n.jsx)(r.A,{maxWidth:"lg",sx:{py:8},children:(0,n.jsx)(a.A,{children:"Property not found"})})}}},e=>{e.O(0,[5446,134,5493,3077,8548,8020,2403,9562,4211,835,872,1505,3635,5667,8441,1255,7358],()=>e(e.s=58639)),_N_E=e.O()}]);