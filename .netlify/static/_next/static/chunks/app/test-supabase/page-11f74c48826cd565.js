(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[265,2890,5192],{5171:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>f,MC:()=>p});var n=r(88945),s=r(67810),i=r(49158),o=r(46779),a=r(75819),l=r(88603);let c=["ownerState"],d=["variants"],u=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function p(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function m(e,t){return t&&e&&"object"==typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}let h=(0,a.A)();function A({defaultTheme:e,theme:t,themeId:r}){return 0===Object.keys(t).length?e:t[r]||t}function g(e,t,r){let{ownerState:o}=t,a=(0,s.A)(t,c),l="function"==typeof e?e((0,n.A)({ownerState:o},a)):e;if(Array.isArray(l))return l.flatMap(e=>g(e,(0,n.A)({ownerState:o},a),r));if(l&&"object"==typeof l&&Array.isArray(l.variants)){let{variants:e=[]}=l,t=(0,s.A)(l,d);return e.forEach(e=>{let s=!0;if("function"==typeof e.props?s=e.props((0,n.A)({ownerState:o},a,o)):Object.keys(e.props).forEach(t=>{(null==o?void 0:o[t])!==e.props[t]&&a[t]!==e.props[t]&&(s=!1)}),s){Array.isArray(t)||(t=[t]);let s="function"==typeof e.style?e.style((0,n.A)({ownerState:o},a,o)):e.style;t.push(r?m((0,i.internal_serializeStyles)(s),r):s)}}),t}return r?m((0,i.internal_serializeStyles)(l),r):l}function f(e={}){let{themeId:t,defaultTheme:r=h,rootShouldForwardProp:a=p,slotShouldForwardProp:c=p}=e,d=e=>(0,l.A)((0,n.A)({},e,{theme:A((0,n.A)({},e,{defaultTheme:r,themeId:t}))}));return d.__mui_systemSx=!0,(e,l={})=>{var m;let h;(0,i.internal_processStyles)(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));let{name:f,slot:y,skipVariantsResolver:x,skipSx:S,overridesResolver:b=!(m=!y?y:y.charAt(0).toLowerCase()+y.slice(1))?null:(e,t)=>t[m]}=l,v=(0,s.A)(l,u),C=f&&f.startsWith("Mui")||y?"components":"custom",_=void 0!==x?x:y&&"Root"!==y&&"root"!==y||!1,w=S||!1,E=p;"Root"===y||"root"===y?E=a:y?E=c:"string"==typeof e&&e.charCodeAt(0)>96&&(E=void 0);let k=(0,i.default)(e,(0,n.A)({shouldForwardProp:E,label:h},v)),j=e=>"function"==typeof e&&e.__emotion_real!==e||(0,o.Q)(e)?s=>{let i=A({theme:s.theme,defaultTheme:r,themeId:t});return g(e,(0,n.A)({},s,{theme:i}),i.modularCssLayers?C:void 0)}:e,R=(s,...i)=>{let o=j(s),a=i?i.map(j):[];f&&b&&a.push(e=>{let s=A((0,n.A)({},e,{defaultTheme:r,themeId:t}));if(!s.components||!s.components[f]||!s.components[f].styleOverrides)return null;let i=s.components[f].styleOverrides,o={};return Object.entries(i).forEach(([t,r])=>{o[t]=g(r,(0,n.A)({},e,{theme:s}),s.modularCssLayers?"theme":void 0)}),b(e,o)}),f&&!_&&a.push(e=>{var s;let i=A((0,n.A)({},e,{defaultTheme:r,themeId:t}));return g({variants:null==i||null==(s=i.components)||null==(s=s[f])?void 0:s.variants},(0,n.A)({},e,{theme:i}),i.modularCssLayers?"theme":void 0)}),w||a.push(d);let l=a.length-i.length;if(Array.isArray(s)&&l>0){let e=Array(l).fill("");(o=[...s,...e]).raw=[...s.raw,...e]}let c=k(o,...a);return e.muiName&&(c.muiName=e.muiName),c};return k.withConfig&&(R.withConfig=k.withConfig),R}}},11947:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(19868),s=r(58800);function i(e){let{props:t,name:r,defaultTheme:i,themeId:o}=e,a=(0,s.A)(i);return o&&(a=a[o]||a),(0,n.A)({theme:a,name:r,props:t})}},16310:(e,t,r)=>{"use strict";r.d(t,{r:()=>s});class n{static getInstance(){return n.instance||(n.instance=new n),n.instance}async initialize(){return Promise.resolve()}async getAll(){return this.properties}async getById(e){return this.properties.find(t=>t.id===e)||null}async create(e){let t={...e,id:Date.now().toString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return this.properties.push(t),t}async update(e,t){let r=this.properties.findIndex(t=>t.id===e);return -1!==r?(this.properties[r]={...this.properties[r],...t,updated_at:new Date().toISOString()},this.properties[r]):null}async delete(e){let t=this.properties.findIndex(t=>t.id===e);return -1!==t&&(this.properties.splice(t,1),!0)}getProperties(){return this.properties}isLoading(){return!1}isInitialized(){return!0}async addProperty(e){let t={...e,id:Date.now().toString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return this.properties.push(t),t}constructor(){this.properties=[]}}let s=n.getInstance()},19868:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(37821);function s(e){let{theme:t,name:r,props:s}=e;return t&&t.components&&t.components[r]&&t.components[r].defaultProps?(0,n.A)(t.components[r].defaultProps,s):s}},20981:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var n=r(95155),s=r(12115),i=r(97322),o=r(23315),a=r(80851),l=r(29767),c=r(84578),d=r(4474),u=r(78010),p=r(70690),m=r(33077),h=r(28548),A=r(16310),g=r(62890);function f(){let[e,t]=(0,s.useState)("checking"),[r,f]=(0,s.useState)([]),[y,x]=(0,s.useState)(!1),[S,b]=(0,s.useState)("");(0,s.useEffect)(()=>{v()},[]);let v=async()=>{x(!0),b("");try{if(!(0,g.Wt)()){t("not-configured"),b("Supabase is not configured. Please check your .env.local file.");return}let e=(0,g.getSupabaseClient)();if(!e)throw Error("Supabase client not initialized");let{data:r,error:n}=await e.from("properties").select("count").limit(1);n?(t("error"),b("Connection error: ".concat(n.message))):(t("connected"),b("✅ Supabase connection successful!"),await C())}catch(e){t("error"),b("Error: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{x(!1)}},C=async()=>{try{await A.r.initialize();let e=A.r.getProperties();f(e),b("✅ Loaded ".concat(e.length," properties from Supabase"))}catch(e){b("Error loading properties: ".concat(e instanceof Error?e.message:"Unknown error"))}},_=async()=>{x(!0);try{let e=await A.r.addProperty({name:"Test Property ".concat(Date.now()),location:"Test Location",description:"This is a test property added via Supabase",images:["https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=800&q=80"],price:1e4,type:"Test Villa",amenities:["WiFi","Kitchen","Parking"],featured:!1,bedrooms:3,bathrooms:2,max_guests:6,available:!0});f(t=>[...t,e]),b("✅ Added test property: ".concat(e.name))}catch(e){b("Error adding property: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{x(!1)}},w=async()=>{x(!0);try{let e=(0,g.getSupabaseClient)();if(!e)throw Error("Supabase client not initialized");let{error:t}=await e.from("properties").delete().neq("id","00000000-0000-0000-0000-000000000000");t?b("Error clearing properties: ".concat(t.message)):(f([]),b("✅ Cleared all properties from Supabase"))}catch(e){b("Error: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{x(!1)}};return(0,n.jsxs)(i.A,{maxWidth:"lg",sx:{py:4},children:[(0,n.jsx)(o.A,{variant:"h3",component:"h1",gutterBottom:!0,align:"center",sx:{color:"#704F49"},children:"Supabase Connection Test"}),(0,n.jsx)(a.A,{sx:{mb:4},children:(0,n.jsx)(l.A,{children:(0,n.jsxs)(c.A,{children:[(0,n.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Connection Status"}),(0,n.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[y?(0,n.jsx)(d.A,{size:20}):(0,n.jsx)(a.A,{sx:{width:12,height:12,borderRadius:"50%",backgroundColor:"connected"===e?"#4caf50":"error"===e?"#f44336":"#ff9800"}}),(0,n.jsxs)(o.A,{variant:"body1",children:["checking"===e&&"Checking connection...","connected"===e&&"Connected to Supabase","error"===e&&"Connection failed","not-configured"===e&&"Not configured"]})]}),S&&(0,n.jsx)(u.A,{severity:(()=>{switch(e){case"connected":return"success";case"error":return"error";case"not-configured":return"warning";default:return"info"}})(),sx:{mb:2},children:S}),(0,n.jsxs)(a.A,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[(0,n.jsx)(p.A,{variant:"contained",onClick:v,disabled:y,sx:{bgcolor:"#704F49","&:hover":{bgcolor:"#5A3F3A"}},children:"Test Connection"}),(0,n.jsx)(p.A,{variant:"outlined",onClick:_,disabled:y||"connected"!==e,sx:{borderColor:"#704F49",color:"#704F49","&:hover":{borderColor:"#5A3F3A"}},children:"Add Test Property"}),(0,n.jsx)(p.A,{variant:"outlined",color:"error",onClick:w,disabled:y||"connected"!==e,children:"Clear All Properties"})]})]})})}),(0,n.jsxs)(a.A,{children:[(0,n.jsxs)(o.A,{variant:"h6",gutterBottom:!0,children:["Properties in Database (",r.length,")"]}),(0,n.jsx)(m.Ay,{container:!0,spacing:2,children:r.map(e=>{var t;return(0,n.jsx)(m.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,n.jsx)(l.A,{children:(0,n.jsxs)(c.A,{children:[(0,n.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:e.name}),(0,n.jsx)(o.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:e.location}),(0,n.jsxs)(o.A,{variant:"h6",color:"primary",children:["₹",null==(t=e.price)?void 0:t.toLocaleString(),"/night"]}),(0,n.jsxs)(a.A,{sx:{mt:1},children:[(0,n.jsx)(h.A,{label:e.type,size:"small",variant:"outlined",sx:{mr:1,mb:1}}),e.featured&&(0,n.jsx)(h.A,{label:"Featured",size:"small",color:"primary",sx:{mb:1}})]})]})})},e.id)})}),0===r.length&&(0,n.jsx)(u.A,{severity:"info",children:"No properties found in the database. Try adding a test property or check your connection."})]})]})}},29183:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(5171).Ay)()},57023:(e,t,r)=>{Promise.resolve().then(r.bind(r,20981))},62890:(e,t,r)=>{"use strict";r.d(t,{TABLES:()=>a,Wt:()=>o,getSupabaseClient:()=>i});class n{static getInstance(){return n.instance||(n.instance=new n),n.instance}async initialize(){return Promise.resolve()}getClient(){return this.client}from(e){let t={select:e=>t,insert:e=>t,update:e=>t,delete:()=>t,eq:(e,r)=>t,in:(e,r)=>t,gte:(e,r)=>t,lte:(e,r)=>t,order:(e,r)=>t,limit:e=>t,then:e=>e({data:[],error:null})};return t}async auth(){return{getUser:()=>Promise.resolve({data:{user:null},error:null}),signIn:()=>Promise.resolve({data:{user:null},error:null}),signOut:()=>Promise.resolve({error:null})}}async rpc(e,t){return Promise.resolve({data:null,error:null})}constructor(){this.client=null}}let s=n.getInstance(),i=()=>s.getClient(),o=()=>!0,a={PROPERTIES:"properties",BOOKINGS:"bookings",USERS:"users",DESTINATIONS:"destinations",DEAL_BANNERS:"deal_banners",HERO_BACKGROUNDS:"hero_backgrounds",CALLBACKS:"callbacks",CONTACTS:"contacts",CONSULTATIONS:"consultations",PARTNERS:"partners",PAYMENTS:"payments",LOYALTY_RULES:"loyalty_rules",LOYALTY_REDEMPTIONS:"loyalty_redemptions",EMAIL_TEMPLATES:"email_templates",EMAIL_TRIGGERS:"email_triggers",EMAIL_CONFIGURATIONS:"email_configurations",EMAIL_LOGS:"email_logs",WHATSAPP_MESSAGES:"whatsapp_messages",INSTAGRAM_POSTS:"instagram_posts"}},84578:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var n=r(88945),s=r(67810),i=r(12115),o=r(2821),a=r(57001),l=r(48116),c=r(16625),d=r(85795),u=r(95195);function p(e){return(0,u.Ay)("MuiCardContent",e)}(0,d.A)("MuiCardContent",["root"]);var m=r(95155);let h=["className","component"],A=(0,l.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),g=i.forwardRef(function(e,t){let r=(0,c.b)({props:e,name:"MuiCardContent"}),{className:i,component:l="div"}=r,d=(0,s.A)(r,h),u=(0,n.A)({},r,{component:l}),g=(e=>{let{classes:t}=e;return(0,a.A)({root:["root"]},p,t)})(u);return(0,m.jsx)(A,(0,n.A)({as:l,className:(0,o.A)(g.root,i),ownerState:u,ref:t},d))})},97322:(e,t,r)=>{"use strict";r.d(t,{A:()=>b});var n=r(67810),s=r(88945),i=r(12115),o=r(2821),a=r(95195),l=r(57001),c=r(88133),d=r(11947),u=r(29183),p=r(75819),m=r(95155);let h=["className","component","disableGutters","fixed","maxWidth","classes"],A=(0,p.A)(),g=(0,u.A)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`maxWidth${(0,c.A)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),f=e=>(0,d.A)({props:e,name:"MuiContainer",defaultTheme:A});var y=r(81852),x=r(48116),S=r(16625);let b=function(e={}){let{createStyledComponent:t=g,useThemeProps:r=f,componentName:d="MuiContainer"}=e,u=t(({theme:e,ownerState:t})=>(0,s.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}),({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce((t,r)=>{let n=e.breakpoints.values[r];return 0!==n&&(t[e.breakpoints.up(r)]={maxWidth:`${n}${e.breakpoints.unit}`}),t},{}),({theme:e,ownerState:t})=>(0,s.A)({},"xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}}));return i.forwardRef(function(e,t){let i=r(e),{className:p,component:A="div",disableGutters:g=!1,fixed:f=!1,maxWidth:y="lg"}=i,x=(0,n.A)(i,h),S=(0,s.A)({},i,{component:A,disableGutters:g,fixed:f,maxWidth:y}),b=((e,t)=>{let{classes:r,fixed:n,disableGutters:s,maxWidth:i}=e,o={root:["root",i&&`maxWidth${(0,c.A)(String(i))}`,n&&"fixed",s&&"disableGutters"]};return(0,l.A)(o,e=>(0,a.Ay)(t,e),r)})(S,d);return(0,m.jsx)(u,(0,s.A)({as:A,ownerState:S,className:(0,o.A)(b.root,p),ref:t},x))})}({createStyledComponent:(0,x.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t["maxWidth".concat((0,y.A)(String(r.maxWidth)))],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,S.b)({props:e,name:"MuiContainer"})})}},e=>{e.O(0,[5446,134,5493,5436,3077,7247,8548,8441,1255,7358],()=>e(e.s=57023)),_N_E=e.O()}]);