(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5402,8991],{66467:(e,t,a)=>{Promise.resolve().then(a.bind(a,88273))},68991:(e,t,a)=>{"use strict";a.r(t),a.d(t,{DataManager:()=>s,bookingManager:()=>l,callbackManager:()=>m,couponManagerInstance:()=>p,dealBannerManager:()=>d,dealManager:()=>g,destinationManager:()=>u,heroBackgroundManager:()=>h,masterDataManager:()=>A,mockBookings:()=>i,mockProperties:()=>n,mockUsers:()=>r,offersBannerManager:()=>x,propertyManager:()=>o,userManager:()=>c});let n=[{id:"1",name:"Luxury Villa 1",description:"Beautiful luxury villa with ocean view",price:500,location:"Goa",type:"villa",amenities:["pool","wifi","ac"],images:["/images/villa1.jpg"],featured:!0,available:!0,max_guests:8,bedrooms:4,bathrooms:3,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],i=[{id:"1",property_id:"1",user_id:"1",guestName:"John Doe",guestEmail:"john@example.com",guestPhone:"+1234567890",checkIn:"2024-01-01",checkOut:"2024-01-05",guests:4,totalAmount:2e3,status:"confirmed",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}],r=[{id:"1",email:"user@example.com",name:"John Doe",phone:"+1234567890",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];class s{async initialize(){return Promise.resolve()}async getAll(){return this.data}async getById(e){return this.data.find(t=>t.id===e)||null}async create(e){return this.data.push(e),e}async update(e,t){let a=this.data.findIndex(t=>t.id===e);return -1!==a?(this.data[a]={...this.data[a],...t},this.data[a]):null}async delete(e){let t=this.data.findIndex(t=>t.id===e);return -1!==t&&(this.data.splice(t,1),!0)}async redeemCoupon(e,t,a,n,i){return console.log("Redeeming coupon:",{code:e,amount:t,bookingId:a,email:n,name:i}),{success:!0,discount:0}}async validateCoupon(e,t){return console.log("Validating coupon:",{code:e,amount:t}),{isValid:!0,discount:0,message:"Coupon is valid"}}async getFeatured(){return this.data.filter(e=>!0===e.featured)}async getActive(){return this.data.filter(e=>!0===e.isActive)}subscribe(e){return()=>{}}async initializeAll(){await this.getAll()}getStats(){return{total:this.data.length,loading:!1,initialized:!0}}async clear(){this.data=[]}constructor(e){this.data=[],this.tableName=e}}let o=new s("properties"),l=new s("bookings"),c=new s("users"),d=new s("dealBanners"),u=new s("destinations"),h=new s("heroBackgrounds"),g=new s("deals"),x=new s("offersBanners"),m=new s("callbacks"),p=new s("coupons"),A=new s("masterData")},88273:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var n=a(95155),i=a(12115),r=a(80851),s=a(4474),o=a(97322),l=a(23315),c=a(78010),d=a(33077),u=a(29767),h=a(84578),g=a(9562),x=a(99944),m=a(9957),p=a(70690),A=a(28548),y=a(68991);function j(){let[e,t]=(0,i.useState)([]),[a,j]=(0,i.useState)(!0),[f,v]=(0,i.useState)("checking"),[w,b]=(0,i.useState)({name:"Test Destination",description:"This is a test destination for Supabase integration",image:"https://via.placeholder.com/400x300",location:"Test Location",attractions:["Beach","Mountains"],featured:!1});(0,i.useEffect)(()=>{k()},[]);let k=async()=>{j(!0);try{await y.destinationManager.initialize();let e=await y.destinationManager.getAll();t(e),v("connected")}catch(e){console.error("Error loading destinations:",e),v("error")}finally{j(!1)}},D=async()=>{try{await y.destinationManager.create(w),await k(),alert("Test destination added successfully!")}catch(e){console.error("Error adding test destination:",e),alert("Error adding test destination")}},S=async()=>{if(window.confirm("Are you sure you want to clear all destinations?"))try{await y.destinationManager.clear(),await k(),alert("All destinations cleared!")}catch(e){console.error("Error clearing destinations:",e),alert("Error clearing destinations")}};return a?(0,n.jsx)(r.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:(0,n.jsx)(s.A,{})}):(0,n.jsxs)(o.A,{maxWidth:"lg",sx:{py:4},children:[(0,n.jsx)(l.A,{variant:"h3",gutterBottom:!0,children:"Supabase Destinations Test"}),(0,n.jsx)(c.A,{severity:(()=>{switch(f){case"connected":return"success";case"error":return"error";default:return"warning"}})(),sx:{mb:3},children:(()=>{switch(f){case"connected":return"Connected to Supabase";case"error":return"Error connecting to Supabase";default:return"Checking connection..."}})()}),(0,n.jsxs)(d.Ay,{container:!0,spacing:3,sx:{mb:4},children:[(0,n.jsx)(d.Ay,{item:!0,xs:12,md:6,children:(0,n.jsx)(u.A,{children:(0,n.jsxs)(h.A,{children:[(0,n.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:"Add Test Destination"}),(0,n.jsxs)(r.A,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,n.jsx)(g.A,{label:"Name",value:w.name,onChange:e=>b({...w,name:e.target.value})}),(0,n.jsx)(g.A,{label:"Description",multiline:!0,rows:3,value:w.description,onChange:e=>b({...w,description:e.target.value})}),(0,n.jsx)(g.A,{label:"Location",value:w.location,onChange:e=>b({...w,location:e.target.value})}),(0,n.jsx)(g.A,{label:"Image URL",value:w.image,onChange:e=>b({...w,image:e.target.value})}),(0,n.jsx)(x.A,{control:(0,n.jsx)(m.A,{checked:w.featured,onChange:e=>b({...w,featured:e.target.checked})}),label:"Featured Destination"}),(0,n.jsx)(p.A,{variant:"contained",onClick:D,children:"Add Test Destination"})]})]})})}),(0,n.jsx)(d.Ay,{item:!0,xs:12,md:6,children:(0,n.jsx)(u.A,{children:(0,n.jsxs)(h.A,{children:[(0,n.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:"Actions"}),(0,n.jsxs)(r.A,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,n.jsx)(p.A,{variant:"outlined",onClick:k,children:"Refresh Destinations"}),(0,n.jsx)(p.A,{variant:"outlined",color:"error",onClick:S,children:"Clear All Destinations"}),(0,n.jsx)(p.A,{variant:"outlined",onClick:()=>window.open("/admin/data-monitor","_blank"),children:"Open Data Monitor"})]})]})})})]}),(0,n.jsx)(u.A,{children:(0,n.jsxs)(h.A,{children:[(0,n.jsxs)(l.A,{variant:"h6",gutterBottom:!0,children:["Destinations (",e.length,")"]}),(0,n.jsx)(d.Ay,{container:!0,spacing:2,children:e.map(e=>{var t;return(0,n.jsx)(d.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,n.jsx)(u.A,{variant:"outlined",children:(0,n.jsxs)(h.A,{children:[(0,n.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:e.name}),(0,n.jsx)(l.A,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:e.location}),(0,n.jsx)(l.A,{variant:"body2",gutterBottom:!0,children:e.description}),(0,n.jsxs)(r.A,{sx:{mt:1},children:[e.featured&&(0,n.jsx)(A.A,{label:"Featured",size:"small",color:"primary",sx:{mr:1}}),(0,n.jsx)(A.A,{label:"".concat((null==(t=e.attractions)?void 0:t.length)||0," attractions"),size:"small"})]}),(0,n.jsxs)(l.A,{variant:"caption",display:"block",sx:{mt:1},children:["ID: ",e.id]})]})})},e.id)})}),0===e.length&&(0,n.jsx)(l.A,{color:"textSecondary",sx:{textAlign:"center",py:4},children:"No destinations found. Add a test destination to see it here!"})]})})]})}}},e=>{e.O(0,[5446,134,5493,5436,3077,7247,8548,8020,2403,9562,3568,5584,8441,1255,7358],()=>e(e.s=66467)),_N_E=e.O()}]);