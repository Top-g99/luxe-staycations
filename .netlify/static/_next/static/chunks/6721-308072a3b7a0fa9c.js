"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6721],{37325:(e,t,s)=>{s.d(t,{c:()=>r});class n{static getInstance(){return n.instance||(n.instance=new n),n.instance}async initialize(){return Promise.resolve()}async setConfig(e){let t={...e,id:Date.now().toString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return this.config=t,t}async getMessages(){return this.messages}async createMessage(e){let t={...e,id:Date.now().toString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return this.messages.push(t),t}async updateMessage(e,t){let s=this.messages.findIndex(t=>t.id===e);return -1!==s?(this.messages[s]={...this.messages[s],...t,updated_at:new Date().toISOString()},this.messages[s]):null}async deleteMessage(e){let t=this.messages.findIndex(t=>t.id===e);return -1!==t&&(this.messages.splice(t,1),!0)}async sendMessage(e,t){try{return await this.createMessage({to:e,message:t,status:"sent"}),console.log("WhatsApp message sent:",{to:e,message:t}),!0}catch(e){return console.error("WhatsApp message sending failed:",e),!1}}async sendBookingConfirmation(e){return console.log("Sending WhatsApp booking confirmation:",e),{success:!0,message:"WhatsApp confirmation sent"}}async sendQuickResponse(e,t){try{let s=await this.sendMessage(e,t);return{success:s,message:s?"Quick response sent successfully":"Failed to send quick response"}}catch(e){return console.error("Error sending quick response:",e),{success:!1,message:"Failed to send quick response: ".concat(e instanceof Error?e.message:"Unknown error")}}}getConfig(){return this.config}isServiceConfigured(){return this.isConfigured}async configure(e){try{return await this.setConfig(e),this.isConfigured=!0,!0}catch(e){return console.error("Error configuring WhatsApp service:",e),!1}}async testConnection(){try{if(!this.config||!this.config.access_token)return{success:!1,message:"WhatsApp service not configured. Please provide access token."};return{success:!0,message:"WhatsApp connection test successful!"}}catch(e){return{success:!1,message:"Connection test failed: ".concat(e instanceof Error?e.message:"Unknown error")}}}constructor(){this.config=null,this.messages=[],this.isConfigured=!1}}let r=n.getInstance()},39631:(e,t,s)=>{s.d(t,{A:()=>C});var n=s(95155),r=s(12115),a=s(78470),o=s(67895),i=s(48833),c=s(52363),l=s(80851),u=s(23315),m=s(65036),g=s(9562),d=s(75912),h=s(70690),p=s(80422),f=s(78010),y=s(26781),w=s(77073),k=s(35205),x=s(37325);function C(e){let{phoneNumber:t="+91-8828279739",message:s="Hello! I would like to know more about your luxury villas.",variant:C="floating",size:S="large",position:b={bottom:20,right:20}}=e,[v,A]=(0,r.useState)(!1),[I,E]=(0,r.useState)(s),[j,D]=(0,r.useState)(t),[q,T]=(0,r.useState)(!1),[W,R]=(0,r.useState)({open:!1,message:"",severity:"info"}),_=async()=>{if(!j.trim())return void R({open:!0,message:"Please enter a phone number",severity:"error"});T(!0);try{if(await x.c.initialize(),x.c.isServiceConfigured()){let e=await x.c.sendQuickResponse(j,I);R({open:!0,message:e.message||"Operation completed",severity:e.success?"success":"error"})}else{let e=j.replace(/\D/g,""),t="https://wa.me/".concat(e,"?text=").concat(encodeURIComponent(I));window.open(t,"_blank"),R({open:!0,message:"Opening WhatsApp...",severity:"info"})}A(!1)}catch(e){console.error("Error sending WhatsApp message:",e),R({open:!0,message:"Error sending message",severity:"error"})}finally{T(!1)}},N=()=>{R(e=>({...e,open:!1}))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.A,{title:"Chat with us on WhatsApp",arrow:!0,children:(0,n.jsx)(o.A,{size:(()=>{switch(S){case"small":return"small";case"medium":return"medium";default:return"large"}})(),onClick:()=>(()=>{if("floating"===C){let e=t.replace(/\D/g,""),n="https://wa.me/".concat(e,"?text=").concat(encodeURIComponent(s));window.open(n,"_blank")}else A(!0)})(),sx:(()=>{let e={backgroundColor:"#25D366",color:"white","&:hover":{backgroundColor:"#1ea952"},transition:"all 0.3s ease",boxShadow:"0 4px 12px rgba(37, 211, 102, 0.3)"};return"floating"===C?{...e,position:"fixed",zIndex:1e3,...b}:e})(),children:(0,n.jsx)(y.A,{})})}),(0,n.jsxs)(i.A,{open:v,onClose:()=>A(!1),maxWidth:"sm",fullWidth:!0,children:[(0,n.jsx)(c.A,{children:(0,n.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,n.jsx)(y.A,{sx:{color:"#25D366"}}),(0,n.jsx)(u.A,{variant:"h6",children:"Send WhatsApp Message"})]})}),(0,n.jsx)(m.A,{children:(0,n.jsxs)(l.A,{sx:{mt:2},children:[(0,n.jsx)(g.A,{fullWidth:!0,label:"Phone Number",value:j,onChange:e=>D(e.target.value),placeholder:"+91-9876543210",sx:{mb:2},helperText:"Include country code (e.g., +91 for India)"}),(0,n.jsx)(g.A,{fullWidth:!0,label:"Message",value:I,onChange:e=>E(e.target.value),multiline:!0,rows:4,placeholder:"Type your message here...",helperText:"This message will be sent via WhatsApp"})]})}),(0,n.jsxs)(d.A,{children:[(0,n.jsx)(h.A,{onClick:()=>A(!1),startIcon:(0,n.jsx)(w.A,{}),children:"Cancel"}),(0,n.jsx)(h.A,{onClick:()=>_(),variant:"contained",startIcon:(0,n.jsx)(k.A,{}),disabled:q,sx:{backgroundColor:"#25D366","&:hover":{backgroundColor:"#1ea952"}},children:q?"Sending...":"Send Message"})]})]}),(0,n.jsx)(p.A,{open:W.open,autoHideDuration:6e3,onClose:N,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,n.jsx)(f.A,{onClose:N,severity:W.severity,children:W.message})})]})}},62043:(e,t,s)=>{s.d(t,{gm:()=>r});class n{static getInstance(){return n.instance||(n.instance=new n),n.instance}async initialize(){return Promise.resolve()}async sendEmail(e){try{return console.log("Sending email:",e),!0}catch(e){return console.error("Email sending failed:",e),!1}}async getTemplates(){return this.templates}async getTemplate(e){return this.templates.find(t=>t.id===e)||null}async createTemplate(e){let t={...e,id:Date.now().toString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return this.templates.push(t),t}async updateTemplate(e,t){let s=this.templates.findIndex(t=>t.id===e);return -1!==s?(this.templates[s]={...this.templates[s],...t,updated_at:new Date().toISOString()},this.templates[s]):null}async deleteTemplate(e){let t=this.templates.findIndex(t=>t.id===e);return -1!==t&&(this.templates.splice(t,1),!0)}getConfig(){return{smtpHost:"smtp.gmail.com",smtpPort:587,smtpSecure:!1,enableSSL:!1,smtpUser:"test@example.com",smtpPassword:"password",fromEmail:"noreply@luxestaycations.com",fromName:"Luxe Staycations",replyTo:"info@luxestaycations.com",testMode:!0,maxRetries:3,retryDelay:1e3}}async configure(e){return console.log("Configuring email service:",e),this.isConfigured=!0,!0}async reloadConfiguration(){console.log("Reloading email configuration")}async sendTestEmail(e){try{return{success:await this.sendEmail({to:e,subject:"Test Email - Luxe Staycations",content:"This is a test email from Luxe Staycations email service.",html:"<p>This is a test email from <strong>Luxe Staycations</strong> email service.</p>"})}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async sendBookingConfirmation(e){try{let t="Dear ".concat(e.guestName,", your booking ").concat(e.bookingId," for ").concat(e.propertyName," is confirmed. Check-in: ").concat(e.checkIn,", Check-out: ").concat(e.checkOut);return{success:await this.sendEmail({to:e.guestEmail,subject:"Booking Confirmation - Luxe Staycations",content:t,template:"booking-confirmation"})}}catch(e){return console.error("Booking confirmation email failed:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async testConnection(){return console.log("Testing email connection..."),{success:!0,message:"Email connection test successful"}}async sendBookingCancellation(e){try{let t="Dear ".concat(e.guestName,", your booking ").concat(e.bookingId," has been cancelled. Refund will be processed within 5-7 business days.");return{success:await this.sendEmail({to:e.guestEmail,subject:"Booking Cancellation - Luxe Staycations",content:t,template:"booking-cancellation"})}}catch(e){return console.error("Booking cancellation email failed:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async sendConsultationConfirmation(e){try{let t="Hi ".concat(e.name,", we have received your consultation request. Request ID: ").concat(e.requestId);return{success:await this.sendEmail({to:e.email,subject:"Consultation Request Confirmation - Luxe Staycations",content:t,template:"consultation-confirmation"})}}catch(e){return console.error("Consultation confirmation email failed:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async sendSpecialRequestConfirmation(e){try{let t="Hi ".concat(e.guestName,", we have received your special request for ").concat(e.propertyName,". Request ID: ").concat(e.requestId);return{success:await this.sendEmail({to:e.email,subject:"Special Request Confirmation - Luxe Staycations",content:t,template:"special-request-confirmation"})}}catch(e){return console.error("Special request confirmation email failed:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async sendContactFormThankYou(e){try{let t="Hi ".concat(e.name,", thank you for contacting us. We will get back to you soon.");return{success:await this.sendEmail({to:e.email,subject:"Thank You for Contacting Us - Luxe Staycations",content:t,template:"contact-thank-you"})}}catch(e){return console.error("Contact form thank you email failed:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async sendPartnerRequestConfirmation(e){try{let t="Hi ".concat(e.contactName,", we have received your partner request for ").concat(e.businessName,". Request ID: ").concat(e.requestId);return{success:await this.sendEmail({to:e.email,subject:"Partner Request Confirmation - Luxe Staycations",content:t,template:"partner-request-confirmation"})}}catch(e){return console.error("Partner request confirmation email failed:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async sendAdminNotification(e,t,s){try{let n="Admin notification: ".concat(e,". Data: ").concat(JSON.stringify(t));return{success:await this.sendEmail({to:s,subject:"Admin Notification - ".concat(e," - Luxe Staycations"),content:n,template:"admin-notification"})}}catch(e){return console.error("Admin notification email failed:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}constructor(){this.templates=[],this.isConfigured=!1}}let r=n.getInstance()}}]);